!function(e,t){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){"use strict";if(e===t||null===e)throw new TypeError("Cannot convert first argument to object");for(var o=Object(e),s=1,n=arguments.length;n>s;s++){var i=arguments[s];if(i!==t&&null!==i)for(var r=Object.keys(Object(i)),a=0,l=r.length;l>a;a++){var p=r[a],c=Object.getOwnPropertyDescriptor(i,p);c!==t&&c.enumerable&&(o[p]=i[p])}}return o}})}(function(){return this||(1,eval)("this")}()),function(e){"use strict";for(var t,o=0,s=["ms","moz","webkit","o"],n=0;4>n&&!e.requestAnimationFrame;++n)t=s[n],e.requestAnimationFrame=e[t+"RequestAnimationFrame"],e.cancelAnimationFrame=e[t+"CancelAnimationFrame"]||e[t+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(t){var s=Date.now(),n=Math.max(0,16-(s-o)),i=e.setTimeout(function(){t(s+n)},n);return o=s+n,i}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(t){e.clearTimeout(t)})}(function(){return this||(1,eval)("this")}()),function(e,t){"use strict";e.xblocks=e.xblocks||{};var o=e.xblocks;o.utils=o.utils||{},o.dom=o.dom||{},o.event=o.event||{};var s=e.document,n=s.documentElement,i=Array.prototype.indexOf,r=Array.prototype.pop,a=Array.prototype.slice,l=Object.prototype.hasOwnProperty;o.utils.debounce=function(o,s,n){function i(){var n=Date.now(),r=s-(n-c);if(0>=r||r>s){l&&e.clearTimeout(l);var f=h;l=u=h=t,f&&(m=n,p=o.apply(d,a),u||l||(a=d=null))}else u=e.setTimeout(i,r)}function r(){u&&e.clearTimeout(u),l=u=h=t,(b||f!==s)&&(m=Date.now(),p=o.apply(d,a),u||l||(a=d=null))}var a,l,p,c,u,h,d,m=0,f=!1,b=!1,_=!0;return s=Number(s||250),function(){a=arguments,d=n||this,c=Date.now(),h=b&&(u||!_);var t,y,v;return f===!1?t=_&&!u:(l||_||(m=c),v=f-(c-m),y=0>=v||v>f,y?(l&&(l=e.clearTimeout(l)),m=c,p=o.apply(d,a)):l||(l=e.setTimeout(r,v))),y&&u?u=e.clearTimeout(u):u||s===f||(u=e.setTimeout(i,s)),t&&(y=!0,p=o.apply(d,a)),!y||u||l||(a=d=null),p}},o.utils.throttle=function(t,o,s){o=Number(o||250);var n=0,i=function(){n=0};return function(){n||(n=e.setTimeout(i,o),t.apply(s||this,arguments))}},o.utils.microtask=function(){var t=0,o=[],n=s.createTextNode(""),i=e.MutationObserver||e.JsMutationObserver;return new i(function(){for(;o.length;)o.shift()()}).observe(n,{characterData:!0}),function(e){n.textContent=t++,o.push(e)}}(),o.utils.throttleAnimationFrame=function(t,o){var s=0,n=function(){s=0};return function(){s||(s=e.requestAnimationFrame(n),t.apply(o||this,arguments))}},o.utils.filterObject=function(e,t){var o={},s={},n=!1;return Object.keys(e).forEach(function(o){var i=Object.getOwnPropertyDescriptor(e,o);t&&t(o,i)&&(s[o]=i,n=!0)}),n&&Object.defineProperties(o,s),o},o.utils.mapObject=function(e,t){var s={},n={},i=!1;return Object.keys(e).forEach(function(s){var r=Object.getOwnPropertyDescriptor(e,s),a=t&&t(s,r);"object"===o.utils.type(a)&&(n[a.name]=a.descr,i=!0)}),i&&Object.defineProperties(s,n),s},o.utils.isEmptyObject=function(e){if("object"===o.utils.type(e))for(var t in e)if(l.call(e,t))return!1;return!0},o.utils.isWindow=function(e){return null!==e&&e===e.window},o.utils.uid=function(){return e.Math.floor(268435456*(1+e.Math.random())).toString(36)},o.utils.Table=function(e,s){this._options=o.utils.merge({col:"xb-menu:not([disabled])",row:"xb-menuitem:not([disabled])",colLoop:!1,rowLoop:!1},s),this._node=e,this._item=t,this._originalEvent=t,this._onKeydown=this._onKeydown.bind(this),this._onMouseover=o.event.delegate(this._options.row,this._onMouseover.bind(this)),this._onMouseout=o.event.delegate(this._options.row,this._onMouseout.bind(this)),this._onMousemove=o.utils.throttle(o.event.delegate(this._options.row,this._onMouseAction.bind(this))),this._onClick=o.event.filterClick("left",o.event.delegate(this._options.row,this._onMouseAction.bind(this))),this._bind()},o.utils.Table.prototype={EVENT_BLUR:"xb-blur",EVENT_FOCUS:"xb-focus",destroy:function(){this._unbind(),this._node=t,this._originalEvent=t,this._item&&o.event.dispatch(this._item,this.EVENT_BLUR)},getItem:function(){return this._item},blurItem:function(){this._item&&(o.event.dispatch(this._item,this.EVENT_BLUR),this._item=t)},_bind:function(){this._node.addEventListener("keydown",this._onKeydown,!1),this._node.addEventListener("click",this._onClick,!1),this._node.addEventListener("mouseover",this._onMouseover,!1),this._node.addEventListener("mouseout",this._onMouseout,!1),this._node.addEventListener("mousemove",this._onMousemove,!1)},_unbind:function(){this._node.removeEventListener("keydown",this._onKeydown,!1),this._node.removeEventListener("click",this._onClick,!1),this._node.removeEventListener("mouseover",this._onMouseover,!1),this._node.removeEventListener("mouseout",this._onMouseout,!1),this._node.removeEventListener("mousemove",this._onMousemove,!1)},_col:function(e){if(e)for(var t=e;t=t.parentNode;){if(o.dom.matchesSelector(t,this._options.col))return t;if(t===this._node)break}},_colFirst:function(){return this._node.querySelector(this._options.col)||this._node},_colLast:function(){return r.call(a.call(this._node.querySelectorAll(this._options.col)))||this._node},_colMatchIterate:function(e,t){return o.dom.matchesSelector(t,this._options.col)?(e.col=t,!1):void 0},_colNext:function(e){var t={};return o.dom.eachAfter(e,this._colMatchIterate.bind(this,t),this._node,!1),t.col},_colPrev:function(e){var t={};return o.dom.eachBefore(e,this._colMatchIterate.bind(this,t),this._node,!1),t.col},_rowFirst:function(e){return e.querySelector(this._options.row)},_rowLast:function(e){return r.call(a.call(e.querySelectorAll(this._options.row)))},_rowMatchIterate:function(e,t){return o.dom.matchesSelector(t,this._options.row)?(e.row=t,!1):void 0},_rowNext:function(e){var t={};return o.dom.eachAfter(e,this._rowMatchIterate.bind(this,t),this._col(e),!1),t.row},_rowPrev:function(e){var t={};return o.dom.eachBefore(e,this._rowMatchIterate.bind(this,t),this._col(e),!1),t.row},_rowIndex:function(e){return o.dom.index(this._options.row,e,this._col(e))},_rowByIndex:function(e,t){return e.querySelectorAll(this._options.row)[t]},_focus:function(e){e!==this._item&&(this._item&&o.event.dispatch(this._item,this.EVENT_BLUR,{detail:{originalEvent:this._originalEvent}}),this._item=e,o.event.dispatch(this._item,this.EVENT_FOCUS,{detail:{originalEvent:this._originalEvent}}))},_onKeydown:function(e){if(!(e.altKey||e.metaKey||e.shiftKey)){var t;switch(e.keyCode){case 37:t="_onArrowLeft";break;case 38:t="_onArrowUp";break;case 39:t="_onArrowRight";break;case 40:t="_onArrowDown"}t&&(e.preventDefault(),e.stopPropagation(),this._originalEvent=e,this[t]())}},_onMouseAction:function(e){this._item&&this._item===e.delegateElement||(this._originalEvent=e,this._focus(e.delegateElement))},_onMouseover:function(e){o.event.filterMouseEnter(e.delegateElement,e,this._onMouseAction.bind(this))},_onMouseout:function(e){o.event.filterMouseLeave(e.delegateElement,e,this._onMouseAction.bind(this))},_onArrowLeft:function(){if(this._item){var e=this._rowIndex(this._item),t=this._colPrev(this._col(this._item));t||(t=this._colLast(),this._options.colLoop||e--);var o=this._rowByIndex(t,e);o||(o=this._rowLast(t)),this._focus(o)}else this._focus(this._rowFirst(this._colFirst()))},_onArrowRight:function(){if(this._item){var e=this._rowIndex(this._item),t=this._colNext(this._col(this._item));t||(t=this._colFirst(),this._options.colLoop||e++);var o=this._rowByIndex(t,e);o||(o=this._rowFirst(t)),this._focus(o)}else this._focus(this._rowFirst(this._colFirst()))},_onArrowUp:function(){if(this._item){var e=this._rowPrev(this._item);if(!e){var t;t=this._options.rowLoop?this._col(this._item):this._colPrev(this._col(this._item))||this._colLast(),e=this._rowLast(t)}this._focus(e)}else this._focus(this._rowFirst(this._colFirst()))},_onArrowDown:function(){if(this._item){var e=this._rowNext(this._item);if(!e){var t;t=this._options.rowLoop?this._col(this._item):this._colNext(this._col(this._item))||this._colFirst(),e=this._rowFirst(t)}this._focus(e)}else this._focus(this._rowFirst(this._colFirst()))}},o.dom.index=function(e,t,o){return i.call((o||s).querySelectorAll(e),t)},o.dom.isParent=function(){return"compareDocumentPosition"in n?function(e,t){return 16==(16&e.compareDocumentPosition(t))}:"contains"in n?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1}}(),o.dom.matchesSelector=function(){var t=e.Element.prototype,o=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||function(e){return-1!==i.call((this.parentNode||this.ownerDocument).querySelectorAll(e),this)};return function(e,t){return 1===e.nodeType?o.call(e,t):!1}}(),o.dom.eachInnerFollowing=function(e,t){for(var o,s,n,i=[e];o=i.pop();){if(s=t&&t(o,i),"undefined"!=typeof s&&!s)return!1;if("next"!==s&&1===o.nodeType&&o.hasChildNodes())for(n=o.childNodes.length;n--;)i.push(o.childNodes[n])}return!0},o.dom.eachInnerPrevious=function(e,t){for(var o,s,n,i,r=[e];o=r.pop();){if(s=t&&t(o,r),"undefined"!=typeof s&&!s)return!1;if("next"!==s&&1===o.nodeType&&o.hasChildNodes())for(i=o.childNodes.length,n=0;i>n;n++)r.push(o.childNodes[n])}return!0},o.dom.eachBefore=function(e,t,s,n){n="undefined"==typeof n?!0:Boolean(n);var i,r;do{if(s&&!o.dom.isParent(s,e))return;for(i=e;i=i.previousSibling;)if(r=n?o.dom.eachInnerPrevious(i,t):t&&t(i),"undefined"!=typeof r&&!r)return!1}while(e=e.parentNode)},o.dom.eachAfter=function(e,t,s,n){n="undefined"==typeof n?!0:Boolean(n);var i,r;do{if(s&&!o.dom.isParent(s,e))return;for(i=e;i=i.nextSibling;)if(r=n?o.dom.eachInnerFollowing(i,t):t&&t(i),"undefined"!=typeof r&&!r)return!1}while(e=e.parentNode)},o.dom.cleanHTML=function(){var e=function(e){e.parentNode.removeChild(e)},t=s.implementation;return function(o){var s=t.createHTMLDocument("").body;return s.innerHTML=o,__forEach.call(s.querySelectorAll("script,style,img"),e),s.innerHTML}}(),o.event._clickWhich={1:"left",2:"center",3:"right"},o.event.wrap=function(e){return e.xbWrapped?e:(e.xbWrapped=!0,e.srcElement&&!e.target&&(e.target=e.srcElement),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),!l.call(e,"pageX")&&l.call(e,"clientX")&&(e.pageX=e.clientX,e.pageY=e.clientY,n?(e.pageX+=n.scrollLeft-(n.clientLeft||0),e.pageY+=n.scrollTop-(n.clientTop||0)):s.body&&(e.pageX+=s.body.scrollLeft,e.pageY+=s.body.scrollTop)),!e.which&&e.button&&(1&e.button?e.which=1:4&e.button?e.which=2:2&e.button&&(e.which=3)),e.which&&(e.whichStr=o.event._clickWhich[e.which]),e)},o.event.delegate=function(e,t){return function(s){o.event.wrap(s);var n,i=s.target;if(i.tagName){if(o.dom.matchesSelector(i,e))n=i;else if(o.dom.matchesSelector(i,e+" *"))for(var r=i.parentNode;r;){if(o.dom.matchesSelector(r,e)){n=r;break}r=r.parentNode}n&&(s.delegateElement=n,t.call(n,s))}}},o.event.filterClick=function(e,t){return e=Array.isArray(e)?e:[e],function(s){"click"===s.type&&(o.event.wrap(s),-1!==e.indexOf(s.whichStr)&&t.call(this,s))}},o.event.filterMouseEnter=function(e,t,s){o.event.wrap(t);for(var n=t.relatedTarget;n&&n!==e;)n=n.parentNode;return n!==e?s.call(e,t):void 0},o.event.filterMouseLeave=o.event.filterMouseEnter}(function(){return this||(1,eval)("this")}()),function(e,t){"use strict";var o=e.Tether,s=e.React,n=e.xblocks,i=e.document,r=function(){},a=Array.prototype.forEach;n.utils=n.utils||{},n.utils.REG_PROPS_PREFIX_LINK=/^xb-link-/,n.utils.REG_PROPS_PREFIX_ICO=/^xb-ico-/,n.utils.filterPropsPrefixLink=function(e){return n.utils.REG_PROPS_PREFIX_LINK.test(e)},n.utils.mapPropsPrefixLink=function(e,t){return{name:e.replace(n.utils.REG_PROPS_PREFIX_LINK,""),descr:t}},n.utils.filterPropsPrefixIco=function(e){return n.utils.REG_PROPS_PREFIX_ICO.test(e)},n.utils.mapPropsPrefixIco=function(e,t){return{name:e.replace(n.utils.REG_PROPS_PREFIX_ICO,""),descr:t}},n.utils.exportPropTypes=function(e){var t=n.utils.propTypes(e),o={},s=e+"-";for(var i in t)t.hasOwnProperty(i)&&"_"!==i[0]&&(o[s+i]=t[i]);return{propTypes:o}},function(){var e={};n.utils.resetLastRadioChecked=function(t,o){o=String(o);var s=e[o];s&&s!==t&&(s.checked=!1),e[o]=t}}(),n.mixin=n.mixin||{},n.mixin.eDisabled={accessors:{disabled:{attribute:{"boolean":!0}}}},n.mixin.eChecked={accessors:{checked:{attribute:{"boolean":!0}}}},n.mixin.eInputValueState={accessors:{value:{attribute:{name:"value"},get:function(){return this.mounted&&"undefined"!=typeof this.xblock._component.state.value?this.xblock._component.state.value:String(this.getAttribute("value")||this.defaultValue||"")},set:function(e){this.mounted&&this.xblock._component.setState({value:String(e)})}},defaultValue:{get:function(){return""}}}},n.mixin.eInputValueProps={accessors:{value:{attribute:{name:"value"},get:function(){return String(this.getAttribute("value")||this.defaultValue||"")}},defaultValue:{get:function(){return""}}}},n.mixin.eFocus={methods:{focus:function(){this.firstChild.focus()},blur:function(){this.firstChild.blur()}}},n.mixin.vCommonAttrs={propTypes:{accesskey:s.PropTypes.string,contextmenu:s.PropTypes.string,dir:s.PropTypes.oneOf(["ltr","rtl"]),hidden:s.PropTypes.bool,spellcheck:s.PropTypes.bool,tabindex:s.PropTypes.string,title:s.PropTypes.string}};var l=n.view.register("xb-ico",{displayName:"xb-ico",propTypes:{title:s.PropTypes.string,value:s.PropTypes.string,tabindex:s.PropTypes.string,children:s.PropTypes.node,size:s.PropTypes.oneOf(["s","m"]),type:s.PropTypes.oneOf(["attention","close","check","download","download-white","dropdown","eye","link","link-white","mail","notification","odnoklassniki","pause","people","play","print","remove","services","settings","three-dots","trash","trash-white","twitter","help","upload","upload-white","vk"]),active:s.PropTypes.bool,disabled:s.PropTypes.bool},getDefaultProps:function(){return{size:"s",children:String.fromCharCode(160)}},render:function(){var e={"xb-ico":!0,_active:this.props.active,_disabled:this.props.disabled};this.props.type&&(e["_type-"+this.props.type]=!0),this.props.size&&(e["_size-"+this.props.size]=!0),e=s.addons.classSet(e);var t=this.props.tabindex;this.props.disabled&&(t="-1");var o=this.props.value||this.props.children;return s.createElement("span",{className:e,title:this.props.title,tabIndex:t,"data-xb-content":this.props._uid},o)}});n.create("xb-ico",[n.mixin.eDisabled,{accessors:{active:{attribute:{"boolean":!0}}}}]);var p=n.view.register("xb-link",{displayName:"xb-link",propTypes:{disabled:s.PropTypes.bool,href:s.PropTypes.string,name:s.PropTypes.string,tabindex:s.PropTypes.string,target:s.PropTypes.oneOf(["_self","_blank","_parent","_top"]),theme:s.PropTypes.oneOf(["normal","outer","pseudo","input"])},getDefaultProps:function(){return{theme:"normal",tabindex:"1"}},render:function(){var e={"xb-link":!0,_disabled:this.props.disabled};this.props.theme&&(e["_theme-"+this.props.theme]=!0);var t=this.props.tabindex;this.props.disabled&&(t="-1"),e=s.addons.classSet(e);var o=this.props.value||this.props.children;return s.createElement("a",{id:this.props.id,name:this.props.name,href:this.props.href,target:this.props.target,tabIndex:t,className:e,"data-xb-content":this.props._uid},o)}});n.create("xb-link",[n.mixin.eDisabled]);var c=n.view.create({displayName:"XBButtonContent",propTypes:{ico:s.PropTypes.object},getDefaultProps:function(){return{ico:{}}},shouldComponentUpdate:function(e){return!n.utils.equals(e,this.props)},render:function(){var e=n.utils.merge({},this.props.ico),t=[s.createElement("span",{className:"_content-content",key:"content","data-xb-content":this.props._uid},this.props.children)];return!n.utils.isEmptyObject(e)&&e.type&&(e.key="ico",e.float&&"left"!==e.float?"right"===e.float&&t.push(s.createElement(l,s.__spread({},e))):t.unshift(s.createElement(l,s.__spread({},e)))),s.createElement("span",{className:"_content"},t)}}),u=n.view.register("xb-button",[n.utils.exportPropTypes("xb-ico"),{displayName:"xb-button",propTypes:{children:s.PropTypes.node,size:s.PropTypes.oneOf(["s","m","l","xl"]),theme:s.PropTypes.oneOf(["normal","action","dark","flying","pseudo-inverted","pseudo","promo"]),type:s.PropTypes.oneOf(["label","inline","link","file","button","submit","checkbox","radio"]),target:s.PropTypes.oneOf(["_blank","_self","_parent","_top"]),value:s.PropTypes.string,href:s.PropTypes.string,name:s.PropTypes.string,title:s.PropTypes.string,form:s.PropTypes.string,"for":s.PropTypes.string,tabindex:s.PropTypes.string,multiple:s.PropTypes.bool,autofocus:s.PropTypes.bool,disabled:s.PropTypes.bool,checked:s.PropTypes.bool,required:s.PropTypes.bool},statics:{filterIcoProps:function(e){return n.utils.mapObject(n.utils.filterObject(e,n.utils.filterPropsPrefixIco),n.utils.mapPropsPrefixIco)}},getDefaultProps:function(){return{size:"m",theme:"normal",type:"button",tabindex:"0",children:String.fromCharCode(160),checked:!1,multiple:!1,autofocus:!1,disabled:!1,required:!1}},getInitialState:function(){return{checked:this.props.checked}},componentWillReceiveProps:function(e){this.setState({checked:Boolean(e.checked)})},componentWillUpdate:function(e,t){"radio"===e.type&&t.checked&&n.utils.resetLastRadioChecked(this.container(),e.name)},componentWillMount:function(){"radio"===this.props.type&&this.state.checked&&n.utils.resetLastRadioChecked(this.container(),this.props.name)},_onChange:function(e){this.container().checked=e.target.checked},render:function(){var e={"xb-button":!0,_disabled:this.props.disabled};this.props.theme&&(e["_theme-"+this.props.theme]=!0),this.props.size&&(e["_size-"+this.props.size]=!0),e=s.addons.classSet(e);var t=u.filterIcoProps(this.props),o=this.props.tabindex,i=this.props.type;this.props.disabled&&(o="-1");var r=s.createElement(c,{key:"content",_uid:this.props._uid,ico:t},this.props.children);if("link"===i)return s.createElement("a",{className:e,href:this.props.href,name:this.props.name,target:this.props.target,title:this.props.title,tabIndex:o},r);if("file"===i)return s.createElement("label",{className:e},s.createElement("span",{className:"_xb-file-intruder"},s.createElement("span",{className:"_xb-file-intruder-inner"},s.createElement("input",{className:"_xb-file-intruder-input",type:"file",name:this.props.name,title:this.props.title,disabled:this.props.disabled,multiple:this.props.multiple,autoFocus:this.props.autofocus,tabIndex:o}),s.createElement("span",{className:"_xb-file-intruder-focus"}))),r);if("label"===i||"checkbox"===i||"radio"===i){var a=[];if("checkbox"===i||"radio"===i){a.push(s.createElement("input",{key:"checkControl",type:i,className:"_xb-check_controller",name:this.props.name,value:this.props.value,disabled:this.props.disabled,defaultChecked:this.props.checked,checked:this.state.checked,autoFocus:this.props.autofocus,readOnly:!0,onChange:this._onChange,required:this.props.required,tabIndex:o}));var l=n.utils.merge({},this.props,{key:"content",type:"inline",tabindex:null});a.push(s.createElement(u,s.__spread({},l))),e=s.addons.classSet({"xb-button":!0,"_theme-check":!0,_disabled:this.props.disabled})}else a.push(s.createElement("span",{key:"file-intruder",className:"_xb-file-intruder"},s.createElement("span",{className:"_xb-file-intruder-inner"},s.createElement("input",{className:"_xb-file-intruder-input",type:"button",disabled:this.props.disabled,autoFocus:this.props.autofocus,tabIndex:o}),s.createElement("span",{className:"_xb-file-intruder-focus"})))),a.push(r);return s.createElement("label",{className:e,form:this.props.form,htmlFor:this.props["for"],title:this.props.title},a)}return"inline"===i?s.createElement("span",{className:e,tabIndex:o},r):s.createElement("button",{className:e,type:i,form:this.props.form,title:this.props.title,name:this.props.name,value:this.props.value,tabIndex:o,disabled:this.props.disabled,autoFocus:this.props.autofocus},r)}}]);n.create("xb-button",[n.mixin.eDisabled,n.mixin.eChecked,n.mixin.eInputValueProps,n.mixin.eFocus,{prototype:Object.create(HTMLInputElement.prototype),accessors:{defaultValue:{get:function(){var e=this.attrs.type;return"checkbox"===e||"radio"===e?"on":""}}}}]);var h=n.view.create({displayName:"XBInputController",propTypes:{className:s.PropTypes.string,name:s.PropTypes.string,disabled:s.PropTypes.bool,multiline:s.PropTypes.bool,required:s.PropTypes.bool,readOnly:s.PropTypes.bool,autosize:s.PropTypes.bool,autoFocus:s.PropTypes.bool,rows:s.PropTypes.string,cols:s.PropTypes.string,placeholder:s.PropTypes.string,value:s.PropTypes.string,tabIndex:s.PropTypes.string,autocomplete:s.PropTypes.oneOf(["on","off"]),onChange:s.PropTypes.func,onHintToggle:s.PropTypes.func,isPlaceholderHint:s.PropTypes.bool},getDefaultProps:function(){return{value:t,disabled:!1,multiline:!1,required:!1,readOnly:!1,autosize:!1,autoFocus:!1,isPlaceholderHint:!1}},componentDidUpdate:function(e){this._recalculateSize(),this._dispatchEventToggleHint(e.value,this.props.value)},componentDidMount:function(){this._recalculateSize()},_dispatchEventToggleHint:function(e,t){if(this.props.isPlaceholderHint){var o=Boolean(e),s=Boolean(t);o^s&&this.props.onHintToggle(o&&!s)}},_recalculateSize:function(){if(this.props.autosize){var e=this.getDOMNode();this.props.multiline?(e.style.height="0px",e.style.height=e.scrollHeight+"px"):(e.style.width="20px",e.style.width=(e.scrollWidth<20?20:e.scrollWidth)+"px")}},render:function(){var e=this.props.tabIndex;this.props.disabled&&e&&(e="-1");var t={value:this.props.value,className:this.props.className,name:this.props.name,disabled:this.props.disabled,required:this.props.required,readOnly:this.props.readOnly,autoFocus:this.props.autoFocus,placeholder:this.props.placeholder||"",tabIndex:e,autocomplete:this.props.autocomplete,onChange:this.props.onChange};return this.props.multiline?s.createElement("textarea",s.__spread({},t,{rows:this.props.rows,cols:this.props.cols})):s.createElement("input",s.__spread({},t,{type:"text"}))}}),d=n.view.register("xb-input",[n.utils.exportPropTypes("xb-link"),{displayName:"xb-input",propTypes:{name:s.PropTypes.string,disabled:s.PropTypes.bool,autosize:s.PropTypes.bool,multiline:s.PropTypes.bool,required:s.PropTypes.bool,readonly:s.PropTypes.bool,reset:s.PropTypes.bool,autofocus:s.PropTypes.bool,ghost:s.PropTypes.bool,type:s.PropTypes.oneOf(["text","number","date","datetime","email","month","range","search","tel","time","url","week","color","wysiwyg"]),size:s.PropTypes.oneOf(["s","m","l","xl"]),autocomplete:s.PropTypes.oneOf(["on","off"]),rows:s.PropTypes.string,cols:s.PropTypes.string,placeholder:s.PropTypes.string,value:s.PropTypes.string,prefix:s.PropTypes.string,postfix:s.PropTypes.string,tabindex:s.PropTypes.string,"xb-link":s.PropTypes.string},statics:{filterLinkProps:function(e){return n.utils.mapObject(n.utils.filterObject(e,n.utils.filterPropsPrefixLink),n.utils.mapPropsPrefixLink)}},shouldComponentUpdate:function(e,t){return Boolean(!n.utils.equals(e,this.props)||!n.utils.equals(t,this.state))},getDefaultProps:function(){return{value:t,type:"text",size:"m",rows:"4",disabled:!1,autosize:!1,multiline:!1,required:!1,readonly:!1,reset:!1,autofocus:!1,ghost:!1}},getInitialState:function(){return{value:this.props.value}},componentDidMount:function(){this.refs.controller._dispatchEventToggleHint("",this.props.value)},_onChange:function(e){this.setState({value:e.target.value})},_onHintToggle:function(e){this.refs.placeholder.getDOMNode().style.visibility=e?"inherit":"hidden"},_isComplex:function(){return Boolean(this.props.postfix||this.props.prefix||this.props.reset||this.props.autosize||this.props["xb-link"]||this.props.placeholder)},_onClickReset:function(){this.setState({value:""})},render:function(){var e=this._isComplex(),t={"xb-input":!0,_disabled:Boolean(this.props.disabled),_autosize:Boolean(this.props.autosize),_ghost:Boolean(this.props.ghost),_complex:e,_simple:!e};this.props.size&&(t["_size-"+this.props.size]=!0),t=s.addons.classSet(t);var o=!1,n={key:"controller",ref:"controller",className:"_controller",value:this.state.value,name:this.props.name,disabled:this.props.disabled,required:this.props.required,readOnly:this.props.readonly,multiline:this.props.multiline,autoFocus:this.props.autofocus,rows:this.props.rows,cols:this.props.cols,tabIndex:this.props.tabindex,autocomplete:this.props.autocomplete,autosize:this.props.autosize,onChange:this._onChange,onHintToggle:this._onHintToggle};if(e){var i=[];if(this.props.placeholder&&(o=!0,i.push(s.createElement("span",{ref:"placeholder",key:"placeholder",className:"_hint"},s.createElement("span",{className:"_hint-inner"},this.props.placeholder)))),this.props["xb-link"]){var r=d.filterLinkProps(this.props);r.theme="input",r.key="label",i.push(s.createElement(p,s.__spread({},r),this.props["xb-link"]))}return this.props.prefix&&i.push(s.createElement("span",{key:"prefix",className:"_left"},this.props.prefix)),this.props.postfix&&i.push(s.createElement("span",{key:"postfix",className:"_right"},this.props.postfix)),this.props.reset&&i.push(s.createElement("span",{key:"reset",className:"_reset",onClick:this._onClickReset})),i.push(s.createElement("span",{key:"content",className:"_content"},s.createElement(h,s.__spread({},n,{isPlaceholderHint:o})),s.createElement("span",{key:"view",className:"_view"}))),s.createElement("label",{className:t},i)}return s.createElement(h,s.__spread({},n,{className:t,isPlaceholderHint:o}))}}]);n.create("xb-input",[n.mixin.eDisabled,n.mixin.eInputValueState,n.mixin.eFocus,{prototype:Object.create(HTMLElement.prototype)}]);n.view.register("xb-checkbox",[{displayName:"xb-checkbox",propTypes:{children:s.PropTypes.node,size:s.PropTypes.oneOf(["s","m"]),value:s.PropTypes.string,name:s.PropTypes.string,title:s.PropTypes.string,form:s.PropTypes.string,"for":s.PropTypes.string,tabindex:s.PropTypes.string,autofocus:s.PropTypes.bool,checked:s.PropTypes.bool,disabled:s.PropTypes.bool,required:s.PropTypes.bool},getDefaultProps:function(){return{size:"m",children:"",value:"on",tabindex:"0",checked:!1,disabled:!1,autofocus:!1,required:!1}},getInitialState:function(){return{checked:this.props.checked}},componentWillReceiveProps:function(e){this.setState({checked:e.checked})},_onChange:function(e){this.setState({checked:e.target.checked})},render:function(){var e={"xb-checkbox":!0,_disabled:this.props.disabled};this.props.size&&(e["_size-"+this.props.size]=!0),e=s.addons.classSet(e);var t=this.props.tabindex;return this.props.disabled&&(t="-1"),s.createElement("label",{className:e,title:this.props.title,form:this.props.form,htmlFor:this.props["for"]},s.createElement("input",{type:"checkbox",className:"_xb-check_controller",name:this.props.name,value:this.props.value,disabled:this.props.disabled,defaultChecked:this.props.checked,checked:this.state.checked,autoFocus:this.props.autofocus,readOnly:!0,onChange:this._onChange,required:this.props.required,tabIndex:t}),s.createElement("span",{className:"_xb-checkbox_flag _xb-check_flag"},s.createElement("span",{className:"_xb-checkbox_flag-icon"})),s.createElement("span",{"data-xb-content":this.props._uid},this.props.children))}}]);n.create("xb-checkbox",[n.mixin.eDisabled,n.mixin.eChecked,n.mixin.eInputValueProps,n.mixin.eFocus,{prototype:Object.create(HTMLInputElement.prototype),accessors:{defaultValue:{get:function(){return"on"}}}}]);n.view.register("xb-radio",[{displayName:"xb-radio",propTypes:{children:s.PropTypes.node,size:s.PropTypes.oneOf(["s","m"]),value:s.PropTypes.string,name:s.PropTypes.string,title:s.PropTypes.string,form:s.PropTypes.string,"for":s.PropTypes.string,tabindex:s.PropTypes.string,autofocus:s.PropTypes.bool,checked:s.PropTypes.bool,disabled:s.PropTypes.bool,required:s.PropTypes.bool},getDefaultProps:function(){return{size:"m",children:"",value:"on",tabindex:"0",checked:!1,disabled:!1,autofocus:!1,required:!1}},getInitialState:function(){return{checked:this.props.checked}},componentWillReceiveProps:function(e){this.setState({checked:Boolean(e.checked)})},componentWillUpdate:function(e,t){t.checked&&n.utils.resetLastRadioChecked(this.container(),e.name)},componentWillMount:function(){this.state.checked&&n.utils.resetLastRadioChecked(this.container(),this.props.name)},_onChange:function(e){this.container().checked=e.target.checked},render:function(){var e={"xb-radio":!0,_disabled:this.props.disabled};this.props.size&&(e["_size-"+this.props.size]=!0),e=s.addons.classSet(e);var t=this.props.tabindex;return this.props.disabled&&(t="-1"),s.createElement("label",{className:e,title:this.props.title,form:this.props.form,htmlFor:this.props["for"]},s.createElement("input",{type:"radio",className:"_xb-check_controller",name:this.props.name,value:this.props.value,disabled:this.props.disabled,defaultChecked:this.props.checked,checked:this.state.checked,autoFocus:this.props.autofocus,readOnly:!0,onChange:this._onChange,required:this.props.required,tabIndex:t}),s.createElement("span",{className:"_xb-radio_flag _xb-check_flag"},s.createElement("span",{className:"_xb-radio_flag-icon"})),s.createElement("span",{"data-xb-content":this.props._uid},this.props.children))}}]);n.create("xb-radio",[n.mixin.eDisabled,n.mixin.eChecked,n.mixin.eInputValueProps,n.mixin.eFocus,{prototype:Object.create(HTMLInputElement.prototype),accessors:{defaultValue:{get:function(){return"on"}}}}]);{var m=(n.view.register("xb-popup",[n.mixin.vCommonAttrs,{displayName:"xb-popup",mixins:[s.addons.PureRenderMixin],propTypes:{close:s.PropTypes.bool,theme:s.PropTypes.oneOf(["normal","modal","island","error","blank"])},getDefaultProps:function(){return{close:!1,theme:"normal"}},render:function(){var e=[s.createElement("div",{key:"content",className:"_content","data-xb-content":this.props._uid,dangerouslySetInnerHTML:{__html:this.props.children}})];e.unshift(this.template("xb-popup-title",{key:"title",className:"_title"})),this.props.close&&e.unshift(s.createElement("a",{key:"close",className:"_close"})),e.push(this.template("xb-popup-buttons",{key:"buttons",className:"_buttons"}));var t={_popup:!0};return this.props.theme&&(t["_theme-"+this.props.theme]=!0),t=s.addons.classSet(t),s.createElement("div",{className:t,tabIndex:"0"},e)}}]),{_onOpen:function(){this.focus(),n.event.dispatch(this,"xb-open")},_onClose:function(){this.blur(),n.event.dispatch(this,"xb-close")}}),f=n.create("xb-popup",[n.mixin.eFocus,{prototype:Object.create(HTMLElement.prototype),events:{"click:delegate(._close)":function(){var e=n.react.findContainerForNode(this);e&&e.close()},"keydown:keypass(27)":function(){this.close()}},accessors:{options:{get:function(){if(this._options)return this._options;var e=n.dom.attrs.get(this,{"optimizations-gpu":!0,target:i.body,"target-parent":!1,"target-attachment":"middle center","target-modifier":t,"target-offset":t,attachment:"middle center",offset:t,constraints:t});return this._options={enabled:!1,element:this,target:e.target,targetParent:e["target-parent"],attachment:e.attachment,targetAttachment:e["target-attachment"],targetModifier:e["target-modifier"],classPrefix:this.xtagName,optimizations:{gpu:e["optimizations-gpu"]},classes:{element:this.xtagName}},e.offset&&(this._options.offset=e.offset),e["target-offset"]&&(this._options.targetOffset=e["target-offset"]),e.constraints&&(this._options.constraints=JSON.parse(decodeURIComponent(e.constraints))),this._options.targetParent&&(this._options.target=this.parentNode),this._options}},tether:{get:function(){return this._tether||(this._tether=new o(this.options)),this._tether}},opened:{get:function(){return this.tether.enabled}}},methods:{setOptions:function(e){var t=this.tether;n.utils.merge(!0,this.options,e),t.setOptions(this.options,!1),t.enabled&&t.position()},open:function(t){var o=this.tether;return o.enabled?!1:("object"==typeof t&&this.setOptions(t),o.enable(!0),o.target._xbpopup=this,e.setImmediate(m._onOpen.bind(this)),!0)},close:function(){var o=this.tether;return o.enabled?(o.target._xbpopup=t,o.disable(),o.clearCache(),e.setImmediate(m._onClose.bind(this)),!0):!1},position:function(){return this.tether.position(),!0}}}]);n.view.register("xb-menuseparator",{displayName:"xb-menuseparator",render:function(){return s.createElement("div",{className:"xb-menuseparator"})
}})}n.create("xb-menuseparator",[{prototype:Object.create(HTMLElement.prototype)}]);{var b=(n.view.register("xb-menuitem",[n.mixin.vCommonAttrs,{displayName:"xb-menuitem",mixins:[s.addons.PureRenderMixin],propTypes:{label:s.PropTypes.string.isRequired,disabled:s.PropTypes.bool,selected:s.PropTypes.bool,focused:s.PropTypes.bool,submenu:s.PropTypes.bool},statics:{filterIcoProps:function(e){return n.utils.mapObject(n.utils.filterObject(e,n.utils.filterPropsPrefixIco),n.utils.mapPropsPrefixIco)}},getDefaultProps:function(){return{disabled:!1,selected:!1,focused:!1,submenu:!1}},render:function(){var e={"xb-menuitem":!0,_disabled:this.props.disabled,_focused:this.props.focused,_selected:this.props.selected,_submenu:this.props.submenu};e=s.addons.classSet(e);var t=[s.createElement("span",{className:"_label",key:"label"},this.props.label)],o=u.filterIcoProps(this.props);return!n.utils.isEmptyObject(o)&&o.type&&(o.key="ico",o.float&&"left"!==o.float?"right"===o.float&&t.push(s.createElement(l,s.__spread({},o))):t.unshift(s.createElement(l,s.__spread({},o)))),s.createElement("div",{className:e},t)}}]),{_timerOpenSubmenu:0,_submenuRemove:function(){this._submenuInstance&&(this._submenuInstance.close(),this._submenuInstance.parentNode.removeChild(this._submenuInstance),this._submenuInstance=t)}});n.create("xb-menuitem",[n.mixin.eDisabled,n.mixin.eInputValueProps,{prototype:Object.create(HTMLElement.prototype),events:{"xb-created":function(){b._submenuRemove.call(this),this.submenu=Boolean(this.content.trim())},"xb-repaint":b._submenuRemove,"xb-blur":function(){this.focused=!1,e.clearTimeout(b._timerOpenSubmenu),b._timerOpenSubmenu=0;var t=this.submenuInstance;t&&t.opened&&this.menuInstance.focus()},"xb-focus":function(t){if(this.focused=!0,"keydown"!==t.detail.originalEvent.type){var o=this.submenuInstance;o&&!b._timerOpenSubmenu&&(b._timerOpenSubmenu=e.setTimeout(o.open.bind(o),200))}}},accessors:{focused:{attribute:{"boolean":!0}},selected:{attribute:{"boolean":!0}},submenu:{attribute:{"boolean":!0}},menuInstance:{get:function(){if(this._menuInstance||null===this._menuInstance)return this._menuInstance;this._menuInstance=null;var e=this.parentNode&&n.react.findContainerForNode(this.parentNode);return!e||"xb-menu"!==e.xtagName&&"xb-menu-inline"!==e.xtagName||(this._menuInstance=e),this._menuInstance}},submenuInstance:{get:function(){if(this._submenuInstance||null===this._submenuInstance)return this._submenuInstance;var e="_menuitem-target-"+this.xuid;if(this._submenuInstance=null,this.submenu){this.classList.add(e);var t=this.ownerDocument.createElement("xb-menu");t.setAttribute("attachment","top left"),t.setAttribute("target-attachment","top right"),t.setAttribute("target","."+e),t.setAttribute("constraints",encodeURIComponent(JSON.stringify([{to:"scrollParent",attachment:"element together"},{to:"window",attachment:"element together"}]))),t.innerHTML=this.content,this._submenuInstance=this.ownerDocument.body.appendChild(t)}return this._submenuInstance}}}}])}i.addEventListener("contextmenu",n.event.delegate("[contextmenu]",function(e){var t=e.delegateElement,o=t.ownerDocument,s=t.getAttribute("contextmenu"),n=s&&o.getElementById(s);if(n&&"xb-menu"===n.xtagName&&"context"===n.attrs.type){e.preventDefault();var i=o.createElement("div");i.style.position="absolute",i.style.visibility="hidden",i.style.top=e.pageY+"px",i.style.left=e.pageX+"px",o.body.appendChild(i),n.addEventListener("xb-close",function r(){n.removeEventListener("xb-close",r,!1),i.parentNode.removeChild(i)},!1),n.open({target:i,attachment:"top left",targetAttachment:"bottom left",optimizations:{moveElement:!1},constraints:[{to:"scrollParent",attachment:"element"},{to:"window",attachment:"element"}]})}}),!1);{var _=(n.view.register("xb-menu",[n.mixin.vCommonAttrs,{displayName:"xb-menu",mixins:[s.addons.PureRenderMixin],propTypes:{type:s.PropTypes.oneOf(["context","toolbar","list"])},getDefaultProps:function(){return{type:"list"}},getInitialState:function(){return{isShowScrollTop:!1,isShowScrollBottom:!1}},componentWillMount:function(){this._enterTopFrame=0,this._enterBottomFrame=0,this._lockRedrawScrollNavigator=!1,this._onScroll=n.utils.throttleAnimationFrame(this._onScroll)},_redrawScrollNavigator:function(e){if(!this._lockRedrawScrollNavigator){this._lockRedrawScrollNavigator=!0;var t=0,o=Math.max(e.scrollHeight,e.clientHeight),s=e.scrollTop>t,n=e.scrollTop+e.clientHeight<o-t;this.setState({isShowScrollTop:s,isShowScrollBottom:n},this._redrawScrollNavigatorSuccess)}},_redrawScrollNavigatorSuccess:function(){this._lockRedrawScrollNavigator=!1,this.state.isShowScrollTop||this._onMouseLeaveTop(),this.state.isShowScrollBottom||this._onMouseLeaveBottom()},_onScroll:function(e){this._redrawScrollNavigator(e.target)},_animationScrollTop:function(){this.refs.content.getDOMNode().scrollTop--,this._enterTopFrame=e.requestAnimationFrame(this._animationScrollTop)},_onMouseEnterTop:function(){this._onMouseLeaveTop(),this._animationScrollTop()},_onMouseLeaveTop:function(){this._enterTopFrame&&(e.cancelAnimationFrame(this._enterTopFrame),this._enterTopFrame=0)},_animationScrollBottom:function(){this.refs.content.getDOMNode().scrollTop++,this._enterBottomFrame=e.requestAnimationFrame(this._animationScrollBottom)},_onMouseEnterBottom:function(){this._onMouseLeaveBottom(),this._animationScrollBottom()},_onMouseLeaveBottom:function(){this._enterBottomFrame&&(e.cancelAnimationFrame(this._enterBottomFrame),this._enterBottomFrame=0)},render:function(){var e={_popup:!0};e=s.addons.classSet(e);var t={display:this.state.isShowScrollTop?"block":"none"},o={display:this.state.isShowScrollBottom?"block":"none"};return s.createElement("div",{className:e,tabIndex:"0"},s.createElement("div",{style:t,className:"_popup-scroll-top",onMouseEnter:this._onMouseEnterTop,onMouseLeave:this._onMouseLeaveTop}),s.createElement("div",{ref:"content",className:"_popup-content",onScroll:this._onScroll,"data-xb-content":this.props._uid,dangerouslySetInnerHTML:{__html:this.props.children}}),s.createElement("div",{style:o,className:"_popup-scroll-bottom",onMouseEnter:this._onMouseEnterBottom,onMouseLeave:this._onMouseLeaveBottom}))}}]),{_closeSubmenu:function(e){e._xbpopup&&e._xbpopup.close()},_closeUpFocus:function(){for(var e=n.react.findContainerForNode(this.ownerDocument.activeElement),t=this.parentMenu;t&&t!==e;)t.close(),t=t.parentMenu}}),y={events:{"click:delegate(xb-menuitem:not([disabled]))":function(){this.submenuInstance&&this.submenuInstance.open()},"keydown:keypass(13,39)":function(){var e=this._xbfocus.getItem();e&&e.submenuInstance&&e.submenuInstance.open()}},accessors:{hasOpenSubmenu:{get:function(){return Boolean(this.querySelector(".xb-menu-target.xb-menu-enabled"))}}}},v=(n.create("xb-menu",[y,{prototype:Object.create(f.prototype||new f),events:{"xb-open":function(){this._xbfocus=new n.utils.Table(this,{rowLoop:!0,colLoop:!0});var e=n.dom.contentNode(this);n.event.dispatch(e,"scroll")},"xb-close":function(){this._xbfocus&&(this._xbfocus.destroy(),this._xbfocus=t),a.call(this.querySelectorAll(".xb-menu-target.xb-menu-enabled"),_._closeSubmenu)},"keydown:keypass(27)":function(){this.close();var e=this.parentMenu;e&&e.focus()},blur:function(){}},accessors:{parentMenu:{get:function(){return this.tether.target.menuInstance}}}}]),n.view.register("xb-menu-inline",[n.mixin.vCommonAttrs,{displayName:"xb-menu-inline",mixins:[s.addons.PureRenderMixin],render:function(){var e={_popup:!0};return e=s.addons.classSet(e),s.createElement("div",{className:e,tabIndex:"0","data-xb-content":this.props._uid,dangerouslySetInnerHTML:{__html:this.props.children}})}}]),{_init:function(){this._xbfocus&&this._xbfocus.destroy(),this._xbfocus=new n.utils.Table(this,{col:"xb-menu-inline:not([disabled])",rowLoop:!0,colLoop:!0})}});n.create("xb-menu-inline",[n.mixin.eFocus,y,{prototype:Object.create(HTMLElement.prototype),events:{"xb-created":v._init,"xb-repaint":v._init,blur:function(){this.hasOpenSubmenu||this._xbfocus.blurItem()}},methods:{open:r,close:function(){e.setImmediate(this.focus.bind(this))}}}]),n.view.register("xb-select",[n.mixin.vCommonAttrs,{displayName:"xb-select",propTypes:{disabled:s.PropTypes.bool,autocomplete:s.PropTypes.oneOf(["on","off"]),autocorrect:s.PropTypes.oneOf(["on","off"]),autocapitalize:s.PropTypes.oneOf(["on","off"]),size:s.PropTypes.string,autofocus:s.PropTypes.bool,form:s.PropTypes.string,multiple:s.PropTypes.bool,name:s.PropTypes.string,required:s.PropTypes.bool},getDefaultProps:function(){return{disabled:!1,tabindex:"1"}},componentDidMount:function(){new o({element:this.refs.dropdown.getDOMNode(),target:this.refs.control.getDOMNode(),attachment:"top left",targetAttachment:"bottom left",classPrefix:"xb-dialog",constraints:[{to:"window",attachment:"together none"}],optimizations:{gpu:!1},classes:{element:"xb-dialog"}})},render:function(){var e={"xb-select":!0,_disabled:this.props.disabled};e=s.addons.classSet(e);var t=this.props.tabindex;return this.props.disabled&&(t="-1"),s.createElement("div",{className:e},s.createElement("input",{className:"_controller"}),s.createElement(u,{ref:"control",type:"inline"}),s.createElement("div",{ref:"dropdown",className:"_xb-select-dropdown"},s.createElement("ul",{className:"_group"},s.createElement("li",{className:"_item"},s.createElement("a",{className:"_item-control"},"1")),s.createElement("li",{className:"_item"},s.createElement("a",{className:"_item-control"},"2")),s.createElement("li",{className:"_item"},s.createElement("a",{className:"_item-control"},"3")))))}}])}n.create("xb-select",[n.mixin.eDisabled,n.mixin.eFocus,{prototype:Object.create(HTMLSelectElement.prototype)}])}(function(){return this||(1,eval)("this")}());