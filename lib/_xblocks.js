!function(e){e.addTest("createshadowroot",function(){return!!document.createElement("div").createShadowRoot}),e.addTest("stylescoped","scoped"in document.createElement("style"))}(Modernizr),function(e){e.externals["xb-modernizr"]=function(e){return Modernizr[e]},e.externals["xb-inarray"]=function(e,t){for(var r=t.length;r--;)if(e==t[r])return!0;return!1}}(yr),function(){var e=window.borschik={},t={};e.addLinks=function(e){for(var r in e)t[r]=e[r]},e.link=function(e){return"@"===e.charAt(0)?t[e.substr(1)]:e}}(),window.Platform={};var logFlags={};!function(){function e(e){if(this._element=e,e.className!=this._classCache){if(this._classCache=e.className,!this._classCache)return;var t,r=this._classCache.replace(/^\s+|\s+$/g,"").split(/\s+/);for(t=0;t<r.length;t++)a.call(this,r[t])}}function t(e,t){e.className=t.join(" ")}function r(e,t,r){Object.defineProperty?Object.defineProperty(e,t,{get:r}):e.__defineGetter__(t,r)}if(!("undefined"==typeof window.Element||"classList"in document.documentElement)){var n=Array.prototype,i=n.indexOf,o=n.slice,a=n.push,s=n.splice,u=n.join;e.prototype={add:function(e){this.contains(e)||(a.call(this,e),t(this._element,o.call(this,0)))},contains:function(e){return-1!==i.call(this,e)},item:function(e){return this[e]||null},remove:function(e){var r=i.call(this,e);-1!==r&&(s.call(this,r,1),t(this._element,o.call(this,0)))},toString:function(){return u.call(this," ")},toggle:function(e){-1===i.call(this,e)?this.add(e):this.remove(e)}},window.DOMTokenList=e,r(Element.prototype,"classList",function(){return new e(this)})}}(),"undefined"==typeof WeakMap&&!function(){var e=Object.defineProperty,t=Date.now()%1e9,r=function(){this.name="__st"+(1e9*Math.random()>>>0)+(t++ +"__")};r.prototype={set:function(t,r){var n=t[this.name];n&&n[0]===t?n[1]=r:e(t,this.name,{value:[t,r],writable:!0})},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},"delete":function(e){this.set(e,void 0)}},window.WeakMap=r}();var SideTable;if("undefined"!=typeof WeakMap&&navigator.userAgent.indexOf("Firefox/")<0?SideTable=WeakMap:!function(){var e=Object.defineProperty,t=Date.now()%1e9;SideTable=function(){this.name="__st"+(1e9*Math.random()>>>0)+(t++ +"__")},SideTable.prototype={set:function(t,r){var n=t[this.name];n&&n[0]===t?n[1]=r:e(t,this.name,{value:[t,r],writable:!0})},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},"delete":function(e){this.set(e,void 0)}}}(),function(e){function t(e){b.push(e),_||(_=!0,v(n))}function r(e){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(e)||e}function n(){_=!1;var e=b;b=[],e.sort(function(e,t){return e.uid_-t.uid_});var t=!1;e.forEach(function(e){var r=e.takeRecords();i(e),r.length&&(e.callback_(r,e),t=!0)}),t&&n()}function i(e){e.nodes_.forEach(function(t){var r=m.get(t);r&&r.forEach(function(t){t.observer===e&&t.removeTransientObservers()})})}function o(e,t){for(var r=e;r;r=r.parentNode){var n=m.get(r);if(n)for(var i=0;i<n.length;i++){var o=n[i],a=o.options;if(r===e||a.subtree){var s=t(a);s&&o.enqueue(s)}}}}function a(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++E}function s(e,t){this.type=e,this.target=t,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function u(e){var t=new s(e.type,e.target);return t.addedNodes=e.addedNodes.slice(),t.removedNodes=e.removedNodes.slice(),t.previousSibling=e.previousSibling,t.nextSibling=e.nextSibling,t.attributeName=e.attributeName,t.attributeNamespace=e.attributeNamespace,t.oldValue=e.oldValue,t}function l(e,t){return w=new s(e,t)}function c(e){return O?O:(O=u(w),O.oldValue=e,O)}function d(){w=O=void 0}function h(e){return e===O||e===w}function p(e,t){return e===t?e:O&&h(e)?O:null}function f(e,t,r){this.observer=e,this.target=t,this.options=r,this.transientObservedNodes=[]}var m=new SideTable,v=window.msSetImmediate;if(!v){var g=[],y=String(Math.random());window.addEventListener("message",function(e){if(e.data===y){var t=g;g=[],t.forEach(function(e){e()})}}),v=function(e){g.push(e),window.postMessage(y,"*")}}var _=!1,b=[],E=0;a.prototype={observe:function(e,t){if(e=r(e),!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw new SyntaxError;var n=m.get(e);n||m.set(e,n=[]);for(var i,o=0;o<n.length;o++)if(n[o].observer===this){i=n[o],i.removeListeners(),i.options=t;break}i||(i=new f(this,e,t),n.push(i),this.nodes_.push(e)),i.addListeners()},disconnect:function(){this.nodes_.forEach(function(e){for(var t=m.get(e),r=0;r<t.length;r++){var n=t[r];if(n.observer===this){n.removeListeners(),t.splice(r,1);break}}},this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}};var w,O;f.prototype={enqueue:function(e){var r=this.observer.records_,n=r.length;if(r.length>0){var i=r[n-1],o=p(i,e);if(o)return r[n-1]=o,void 0}else t(this.observer);r[n]=e},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var t=this.options;t.attributes&&e.addEventListener("DOMAttrModified",this,!0),t.characterData&&e.addEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.addEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var t=this.options;t.attributes&&e.removeEventListener("DOMAttrModified",this,!0),t.characterData&&e.removeEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.removeEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(e){if(e!==this.target){this.addListeners_(e),this.transientObservedNodes.push(e);var t=m.get(e);t||m.set(e,t=[]),t.push(this)}},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach(function(e){this.removeListeners_(e);for(var t=m.get(e),r=0;r<t.length;r++)if(t[r]===this){t.splice(r,1);break}},this)},handleEvent:function(e){switch(e.stopImmediatePropagation(),e.type){case"DOMAttrModified":var t=e.attrName,r=e.relatedNode.namespaceURI,n=e.target,i=new l("attributes",n);i.attributeName=t,i.attributeNamespace=r;var a=e.attrChange===MutationEvent.ADDITION?null:e.prevValue;o(n,function(e){return!e.attributes||e.attributeFilter&&e.attributeFilter.length&&-1===e.attributeFilter.indexOf(t)&&-1===e.attributeFilter.indexOf(r)?void 0:e.attributeOldValue?c(a):i});break;case"DOMCharacterDataModified":var n=e.target,i=l("characterData",n),a=e.prevValue;o(n,function(e){return e.characterData?e.characterDataOldValue?c(a):i:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(e.target);case"DOMNodeInserted":var s,u,n=e.relatedNode,h=e.target;"DOMNodeInserted"===e.type?(s=[h],u=[]):(s=[],u=[h]);var p=h.previousSibling,f=h.nextSibling,i=l("childList",n);i.addedNodes=s,i.removedNodes=u,i.previousSibling=p,i.nextSibling=f,o(n,function(e){return e.childList?i:void 0})}d()}},e.JsMutationObserver=a}(this),!window.MutationObserver&&(window.MutationObserver=window.WebKitMutationObserver||window.JsMutationObserver,!MutationObserver))throw new Error("no mutation observer support");!function(e){function t(t,o){var a=o||{};if(!t)throw new Error("document.register: first argument `name` must not be empty");if(t.indexOf("-")<0)throw new Error("document.register: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(t)+"'.");if(a.name=t,!a.prototype)throw new Error("Options missing required prototype property");return a.lifecycle=a.lifecycle||{},a.ancestry=r(a.extends),n(a),i(a),c(a.prototype),h(t,a),a.ctor=p(a),a.ctor.prototype=a.prototype,a.prototype.constructor=a.ctor,e.ready&&e.upgradeAll(document),a.ctor}function r(e){var t=E[e];return t?r(t.extends).concat([t]):[]}function n(e){for(var t,r=e.extends,n=0;t=e.ancestry[n];n++)r=t.is&&t.tag;e.tag=r||e.name,r&&(e.is=e.name)}function i(e){if(!Object.__proto__){var t=HTMLElement.prototype;if(e.is){var r=document.createElement(e.tag);t=Object.getPrototypeOf(r)}for(var n,i=e.prototype;i&&i!==t;){var n=Object.getPrototypeOf(i);i.__proto__=n,i=n}}e.native=t}function o(e){return a(w(e.tag),e)}function a(t,r){return r.is&&t.setAttribute("is",r.is),s(t,r),t.__upgraded__=!0,e.upgradeSubtree(t),l(t),t}function s(e,t){Object.__proto__?e.__proto__=t.prototype:(u(e,t.prototype,t.native),e.__proto__=t.prototype)}function u(e,t,r){for(var n={},i=t;i!==r&&i!==HTMLUnknownElement.prototype;){for(var o,a=Object.getOwnPropertyNames(i),s=0;o=a[s];s++)n[o]||(Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(i,o)),n[o]=1);i=Object.getPrototypeOf(i)}}function l(e){e.createdCallback&&e.createdCallback()}function c(e){var t=e.setAttribute;e.setAttribute=function(e,r){d.call(this,e,r,t)};var r=e.removeAttribute;e.removeAttribute=function(e,t){d.call(this,e,t,r)}}function d(e,t,r){var n=this.getAttribute(e);r.apply(this,arguments),this.attributeChangedCallback&&this.getAttribute(e)!==n&&this.attributeChangedCallback(e,n)}function h(e,t){E[e]=t}function p(e){return function(){return o(e)}}function f(e,t){var r=E[t||e];return r?new r.ctor:w(e)}function m(e){if(!e.__upgraded__&&e.nodeType===Node.ELEMENT_NODE){var t=e.getAttribute("is")||e.localName,r=E[t];return r&&a(e,r)}}function v(t){var r=O.call(this,t);return e.upgradeAll(r),r}e||(e=window.CustomElements={flags:{}});var g=e.flags,y=Boolean(document.register),_=!g.register&&y;if(_){var b=function(){};e.registry={},e.upgradeElement=b,e.watchShadow=b,e.upgrade=b,e.upgradeAll=b,e.upgradeSubtree=b,e.observeDocument=b,e.upgradeDocument=b,e.takeRecords=b}else{var E={},w=document.createElement.bind(document),O=Node.prototype.cloneNode;document.register=t,document.createElement=f,Node.prototype.cloneNode=v,e.registry=E,e.upgrade=m}e.hasNative=y,e.useNative=_}(window.CustomElements),function(e){function t(e,r,n){var i=e.firstElementChild;if(!i)for(i=e.firstChild;i&&i.nodeType!==Node.ELEMENT_NODE;)i=i.nextSibling;for(;i;)r(i,n)!==!0&&t(i,r,n),i=i.nextElementSibling;return null}function r(e,t){for(var r=e.shadowRoot;r;)n(r,t),r=r.olderShadowRoot}function n(e,n){t(e,function(e){return n(e)?!0:(r(e,n),void 0)}),r(e,n)}function i(e){return s(e)?(u(e),!0):(d(e),void 0)}function o(e){n(e,function(e){return i(e)?!0:void 0})}function a(e){return i(e)||o(e)}function s(t){if(!t.__upgraded__&&t.nodeType===Node.ELEMENT_NODE){var r=t.getAttribute("is")||t.localName,n=e.registry[r];if(n)return M.dom&&console.group("upgrade:",t.localName),e.upgrade(t),M.dom&&console.groupEnd(),!0}}function u(e){d(e),m(e)&&n(e,function(e){d(e)})}function l(e){if(A.push(e),!N){N=!0;var t=window.Platform&&window.Platform.endOfMicrotask||setTimeout;t(c)}}function c(){N=!1;for(var e,t=A,r=0,n=t.length;n>r&&(e=t[r]);r++)e();A=[]}function d(e){x?l(function(){h(e)}):h(e)}function h(e){(e.enteredViewCallback||e.__upgraded__&&M.dom)&&(M.dom&&console.group("inserted:",e.localName),m(e)&&(e.__inserted=(e.__inserted||0)+1,e.__inserted<1&&(e.__inserted=1),e.__inserted>1?M.dom&&console.warn("inserted:",e.localName,"insert/remove count:",e.__inserted):e.enteredViewCallback&&(M.dom&&console.log("inserted:",e.localName),e.enteredViewCallback())),M.dom&&console.groupEnd())}function p(e){f(e),n(e,function(e){f(e)})}function f(e){x?l(function(){_removed(e)}):_removed(e)}function f(e){(e.leftViewCallback||e.__upgraded__&&M.dom)&&(M.dom&&console.log("removed:",e.localName),m(e)||(e.__inserted=(e.__inserted||0)-1,e.__inserted>0&&(e.__inserted=0),e.__inserted<0?M.dom&&console.warn("removed:",e.localName,"insert/remove count:",e.__inserted):e.leftViewCallback&&e.leftViewCallback()))}function m(e){for(var t=e,r=window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(document)||document;t;){if(t==r)return!0;t=t.parentNode||t.host}}function v(e){if(e.shadowRoot&&!e.shadowRoot.__watched){M.dom&&console.log("watching shadow-root for: ",e.localName);for(var t=e.shadowRoot;t;)g(t),t=t.olderShadowRoot}}function g(e){e.__watched||(E(e),e.__watched=!0)}function y(e){switch(e.localName){case"style":case"script":case"template":case void 0:return!0}}function _(e){if(M.dom){var t=e[0];if(t&&"childList"===t.type&&t.addedNodes&&t.addedNodes){for(var r=t.addedNodes[0];r&&r!==document&&!r.host;)r=r.parentNode;var n=r&&(r.URL||r._URL||r.host&&r.host.localName)||"";n=n.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",e.length,n||"")}e.forEach(function(e){"childList"===e.type&&(k(e.addedNodes,function(e){y(e)||a(e)}),k(e.removedNodes,function(e){y(e)||p(e)}))}),M.dom&&console.groupEnd()}function b(){_(P.takeRecords()),c()}function E(e){P.observe(e,{childList:!0,subtree:!0})}function w(e){E(e)}function O(e){M.dom&&console.group("upgradeDocument: ",(e.URL||e._URL||"").split("/").pop()),a(e),M.dom&&console.groupEnd()}var M=window.logFlags||{},x=!window.MutationObserver||window.MutationObserver===window.JsMutationObserver;e.hasPolyfillMutations=x;var N=!1,A=[],P=new MutationObserver(_),k=Array.prototype.forEach.call.bind(Array.prototype.forEach);e.watchShadow=v,e.upgradeAll=a,e.upgradeSubtree=o,e.observeDocument=w,e.upgradeDocument=O,e.takeRecords=b}(window.CustomElements),function(){function e(e){return"link"===e.localName&&e.getAttribute("rel")===t}var t=window.HTMLImports?HTMLImports.IMPORT_LINK_TYPE:"none",r={selectors:["link[rel="+t+"]"],map:{link:"parseLink"},parse:function(e){if(!e.__parsed){e.__parsed=!0;var t=e.querySelectorAll(r.selectors);n(t,function(e){r[r.map[e.localName]](e)}),CustomElements.upgradeDocument(e),CustomElements.observeDocument(e)}},parseLink:function(t){e(t)&&this.parseImport(t)},parseImport:function(e){e.content&&r.parse(e.content)}},n=Array.prototype.forEach.call.bind(Array.prototype.forEach);CustomElements.parser=r}(),function(){function e(){CustomElements.parser.parse(document),CustomElements.upgradeDocument(document);var e=window.Platform&&Platform.endOfMicrotask?Platform.endOfMicrotask:setTimeout;e(function(){CustomElements.ready=!0,CustomElements.readyTime=Date.now(),window.HTMLImports&&(CustomElements.elapsed=CustomElements.readyTime-HTMLImports.readyTime),document.body.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})}if("function"!=typeof window.CustomEvent&&(window.CustomEvent=function(e){var t=document.createEvent("HTMLEvents");return t.initEvent(e,!0,!0),t}),"complete"===document.readyState)e();else{var t=window.HTMLImports?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(t,e)}}(),function(){function e(e){var t=U.call(e);return C[t]||(C[t]=t.match(D)[1].toLowerCase())}function t(r,n){var i=t[n||e(r)];return i?i(r):r}function r(t){return-1==j.indexOf(e(t))?Array.prototype.slice.call(t,0):[t]}function n(e,t){return(t||F).length?r(e.querySelectorAll(t)):[]}function i(e,t){var r={added:[],removed:[]};t.forEach(function(t){t._mutation=!0;for(var n in r)for(var i=e._records["added"==n?"inserted":"removed"],o=t[n+"Nodes"],a=o.length,s=0;a>s&&-1==r[n].indexOf(o[s]);s++)r[n].push(o[s]),i.forEach(function(e){e(o[s],t)})})}function o(r,n,i){var o=e(i);return"object"==o&&"object"==e(r[n])?W.merge(r[n],i):r[n]=t(i,o),r}function a(e,t,r,n,i){i[t]="function"!=typeof i[t]?n:W.wrap(i[t],W.applyPseudos(r,n,e.pseudos))}function s(e,t,r,n){if(n){var i={};for(var o in r)i[o.split(":")[0]]=o;for(o in t)a(e,i[o.split(":")[0]]||o,o,t[o],r)}else for(var s in t)a(e,s+":__mixin__("+q++ +")",s,t[s],r)}function u(e){return e.mixins.forEach(function(t){var r=W.mixins[t];for(var n in r){var i=r[n],o=e[n];if(o)switch(n){case"accessors":case"prototype":for(var a in i)o[a]?s(e,i[a],o[a],!0):o[a]=i[a];break;default:s(e,i,o,"events"!=n)}else e[n]=i}}),e}function l(e,t){var r,n=t.target;if(W.matchSelector(n,e.value))r=n;else if(W.matchSelector(n,e.value+" *"))for(var i=n.parentNode;!r;)W.matchSelector(i,e.value)&&(r=i),i=i.parentNode;return r?e.listener=e.listener.bind(r):null}function c(e){if(e.type.match("touch"))e.target.__touched__=!0;else if(e.target.__touched__&&e.type.match("mouse"))return delete e.target.__touched__,void 0;return!0}function d(e){var t="over"==e;return{attach:"OverflowEvent"in M?"overflowchanged":[],condition:function(r){return r.flow=e,r.type==e+"flow"||0===r.orient&&r.horizontalOverflow==t||1==r.orient&&r.verticalOverflow==t||2==r.orient&&r.horizontalOverflow==t&&r.verticalOverflow==t}}}function h(e,t,r,n){n?t[e]=r[e]:Object.defineProperty(t,e,{writable:!0,enumerable:!0,value:r[e]})}function p(e,t){var r=Object.getOwnPropertyDescriptor(e,"target");for(var n in t)H[n]||h(n,e,t,r);e.baseEvent=t}function f(e,t){return{value:e.boolean?"":t,method:e.boolean&&!t?"removeAttribute":"setAttribute"}}function m(e,t,r,n){var i=f(t,n);e[i.method](r,i.value)}function v(e,t,r,n,i){for(var o=t.property?[e.xtag[t.property]]:t.selector?W.query(e,t.selector):[],a=o.length;a--;)o[a][i](r,n)}function g(e,t,r){e.__view__&&e.__view__.updateBindingValue(e,t,r)}function y(e,t,r,n,i,o){var a=r.split(":"),s=a[0];if("get"==s)a[0]=t,e.prototype[t].get=W.applyPseudos(a.join(":"),n[r],e.pseudos);else if("set"==s){a[0]=t;var u=e.prototype[t].set=W.applyPseudos(a.join(":"),i?function(e){this.xtag._skipSet=!0,this.xtag._skipAttr||m(this,i,o,e),this.xtag._skipAttr&&i.skip&&delete this.xtag._skipAttr,n[r].call(this,i.boolean?!!e:e),g(this,o,e),delete this.xtag._skipSet}:n[r]?function(e){n[r].call(this,e),g(this,o,e)}:null,e.pseudos);i&&(i.setter=u)}else e.prototype[t][r]=n[r]}function _(e,t){e.prototype[t]={};var r=e.accessors[t],n=r.attribute,i=n&&n.name?n.name.toLowerCase():t;n&&(n.key=t,e.attributes[i]=n);for(var o in r)y(e,t,o,r,n,i);if(n){if(!e.prototype[t].get){var a=(n.boolean?"has":"get")+"Attribute";e.prototype[t].get=function(){return this[a](i)}}e.prototype[t].set||(e.prototype[t].set=function(e){m(this,n,i,e),g(this,i,e)})}}function b(e){B[e]=(B[e]||[]).filter(function(t){return(t.tags=t.tags.filter(function(t){return t!=e&&!W.tags[t]})).length||t.fn()})}function E(e,t,r){e.__tap__||(e.__tap__={click:"mousedown"==r.type},e.__tap__.click?e.addEventListener("click",t.observer):(e.__tap__.scroll=t.observer.bind(e),window.addEventListener("scroll",e.__tap__.scroll,!0),e.addEventListener("touchmove",t.observer),e.addEventListener("touchcancel",t.observer),e.addEventListener("touchend",t.observer))),e.__tap__.click||(e.__tap__.x=r.touches[0].pageX,e.__tap__.y=r.touches[0].pageY)}function w(e,t){e.__tap__&&(e.__tap__.click?e.removeEventListener("click",t.observer):(window.removeEventListener("scroll",e.__tap__.scroll,!0),e.removeEventListener("touchmove",t.observer),e.removeEventListener("touchcancel",t.observer),e.removeEventListener("touchend",t.observer)),delete e.__tap__)}function O(e,t,r){var n=r.changedTouches[0],i=t.gesture.tolerance;return n.pageX<e.__tap__.x+i&&n.pageX>e.__tap__.x-i&&n.pageY<e.__tap__.y+i&&n.pageY>e.__tap__.y-i?!0:void 0}var M=window,x=document,N=function(){},A=function(){return!0},P=/([\w-]+(?:\([^\)]+\))?)/g,k=/(\w*)(?:\(([^\)]*)\))?/,S=/(\d+)/g,T={action:function(e,t){return e.value.match(S).indexOf(String(t.keyCode))>-1==("keypass"==e.name)||null}},L=function(){var e=M.getComputedStyle(x.documentElement,""),t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];return{dom:"ms"==t?"MS":t,lowercase:t,css:"-"+t+"-",js:"ms"==t?t:t[0].toUpperCase()+t.substr(1)}}(),I=Element.prototype.matchesSelector||Element.prototype[L.lowercase+"MatchesSelector"],R=M.MutationObserver||M[L.js+"MutationObserver"],C={},U=C.toString,D=/\s([a-zA-Z]+)/;t.object=function(e){var r={};for(var n in e)r[n]=t(e[n]);return r},t.array=function(e){for(var r=e.length,n=new Array(r);r--;)n[r]=t(e[r]);return n};var j=["undefined","null","number","boolean","string","function"],F="",q=0,H={};for(var V in document.createEvent("CustomEvent"))H[V]=1;var B={},W={tags:{},defaultOptions:{pseudos:[],mixins:[],events:{},methods:{},accessors:{},lifecycle:{},attributes:{},prototype:{xtag:{get:function(){return this.__xtag__?this.__xtag__:this.__xtag__={data:{}}}}}},register:function(e,t){var n;if("string"==typeof e){n=e.toLowerCase();var i=t.prototype;delete t.prototype;var o=W.tags[n]=u(W.merge({},W.defaultOptions,t));for(var a in o.events)o.events[a]=W.parseEvent(a,o.events[a]);for(a in o.lifecycle)o.lifecycle[a.split(":")[0]]=W.applyPseudos(a,o.lifecycle[a],o.pseudos);for(a in o.methods)o.prototype[a.split(":")[0]]={value:W.applyPseudos(a,o.methods[a],o.pseudos),enumerable:!0};for(a in o.accessors)_(o,a);var s=o.lifecycle.created||o.lifecycle.ready;o.prototype.createdCallback={enumerable:!0,value:function(){var e=this;W.addEvents(this,o.events),o.mixins.forEach(function(t){W.mixins[t].events&&W.addEvents(e,W.mixins[t].events)});var t=s?s.apply(this,r(arguments)):null;for(var n in o.attributes){var i=o.attributes[n],a=this.hasAttribute(n);(a||i.boolean)&&(this[i.key]=i.boolean?a:this.getAttribute(n))}return o.pseudos.forEach(function(t){t.onAdd.call(e,t)}),t}},o.lifecycle.inserted&&(o.prototype.enteredViewCallback={value:o.lifecycle.inserted,enumerable:!0}),o.lifecycle.removed&&(o.prototype.leftDocumentCallback={value:o.lifecycle.removed,enumerable:!0}),o.lifecycle.attributeChanged&&(o.prototype.attributeChangedCallback={value:o.lifecycle.attributeChanged,enumerable:!0});var l=o.prototype.setAttribute||HTMLElement.prototype.setAttribute;o.prototype.setAttribute={writable:!0,enumberable:!0,value:function(e,t){var r=o.attributes[e.toLowerCase()];this.xtag._skipAttr||l.call(this,e,r&&r.boolean?"":t),r&&(r.setter&&!this.xtag._skipSet&&(this.xtag._skipAttr=!0,r.setter.call(this,r.boolean?!0:t)),t=r.skip?r.boolean?this.hasAttribute(e):this.getAttribute(e):t,v(this,r,e,r.boolean?"":t,"setAttribute")),delete this.xtag._skipAttr}};var c=o.prototype.removeAttribute||HTMLElement.prototype.removeAttribute;o.prototype.removeAttribute={writable:!0,enumberable:!0,value:function(e){var t=o.attributes[e.toLowerCase()];this.xtag._skipAttr||c.call(this,e),t&&(t.setter&&!this.xtag._skipSet&&(this.xtag._skipAttr=!0,t.setter.call(this,t.boolean?!1:void 0)),v(this,t,e,void 0,"removeAttribute")),delete this.xtag._skipAttr}};var d=i?i:t["extends"]?Object.create(x.createElement(t["extends"]).constructor).prototype:M.HTMLElement.prototype,h={prototype:Object.create(d,o.prototype)};t["extends"]&&(h["extends"]=t["extends"]);var p=x.register(n,h);return b(n),p}},ready:function(e,t){var n={tags:r(e),fn:t};n.tags.reduce(function(e,t){return W.tags[t]?e:((B[t]=B[t]||[]).push(n),void 0)},!0)&&t()},mixins:{},prefix:L,captureEvents:["focus","blur","scroll","underflow","overflow","overflowchanged","DOMMouseScroll"],customEvents:{overflow:d("over"),underflow:d("under"),animationstart:{attach:[L.dom+"AnimationStart"]},animationend:{attach:[L.dom+"AnimationEnd"]},transitionend:{attach:[L.dom+"TransitionEnd"]},move:{attach:["mousemove","touchmove"],condition:c},enter:{attach:["mouseover","touchenter"],condition:c},leave:{attach:["mouseout","touchleave"],condition:c},scrollwheel:{attach:["DOMMouseScroll","mousewheel"],condition:function(e){return e.delta=e.wheelDelta?e.wheelDelta/40:Math.round(-1*(e.detail/3.5)),!0}},tapstart:{observe:{mousedown:x,touchstart:x},condition:c},tapend:{observe:{mouseup:x,touchend:x},condition:c},tapmove:{attach:["tapstart","dragend","touchcancel"],condition:function(e,t){switch(e.type){case"move":return!0;case"dragover":var r=t.lastDrag||{};return t.lastDrag=e,r.pageX!=e.pageX&&r.pageY!=e.pageY||null;case"tapstart":t.move||(t.current=this,t.move=W.addEvents(this,{move:t.listener,dragover:t.listener}),t.tapend=W.addEvent(x,"tapend",t.listener));break;case"tapend":case"dragend":case"touchcancel":e.touches.length||(t.move&&W.removeEvents(t.current,t.move||{}),t.tapend&&W.removeEvent(x,t.tapend||{}),delete t.lastDrag,delete t.current,delete t.tapend,delete t.move)}}}},pseudos:{__mixin__:{},keypass:T,keyfail:T,delegate:{action:l},within:{action:l,onAdd:function(e){var t=e.source.condition;t&&(e.source.condition=function(r,n){return W.query(this,e.value).filter(function(e){return e==r.target||e.contains?e.contains(r.target):null})[0]?t.call(this,r,n):null})}},preventable:{action:function(e,t){return!t.defaultPrevented}}},clone:t,typeOf:e,toArray:r,wrap:function(e,t){return function(){var n=r(arguments),i=e.apply(this,n);return t.apply(this,n),i}},merge:function(t,r,n){if("string"==e(r))return o(t,r,n);for(var i=1,a=arguments.length;a>i;i++){var s=arguments[i];for(var u in s)o(t,u,s[u])}return t},uid:function(){return Math.random().toString(36).substr(2,10)},query:n,skipTransition:function(e,t){var r=L.js+"TransitionProperty";e.style[r]=e.style.transitionProperty="none";var n=t();return W.requestFrame(function(){W.requestFrame(function(){e.style[r]=e.style.transitionProperty="",n&&W.requestFrame(n)})})},requestFrame:function(){var e=M.requestAnimationFrame||M[L.lowercase+"RequestAnimationFrame"]||function(e){return M.setTimeout(e,20)};return function(t){return e(t)}}(),cancelFrame:function(){var e=M.cancelAnimationFrame||M[L.lowercase+"CancelAnimationFrame"]||M.clearTimeout;return function(t){return e(t)}}(),matchSelector:function(e,t){return I.call(e,t)},set:function(e,t,r){e[t]=r,window.CustomElements&&CustomElements.upgradeAll(e)},innerHTML:function(e,t){W.set(e,"innerHTML",t)},hasClass:function(e,t){return e.className.split(" ").indexOf(t.trim())>-1},addClass:function(e,t){var r=e.className.trim().split(" ");return t.trim().split(" ").forEach(function(e){~r.indexOf(e)||r.push(e)}),e.className=r.join(" ").trim(),e},removeClass:function(e,t){var r=t.trim().split(" ");return e.className=e.className.trim().split(" ").filter(function(e){return e&&!~r.indexOf(e)}).join(" "),e},toggleClass:function(e,t){return W[W.hasClass(e,t)?"removeClass":"addClass"].call(null,e,t)},queryChildren:function(e,t){var n=e.id,i=e.id=n||"x_"+W.uid(),o="#"+i+" > ";t=o+(t+"").replace(",",","+o,"g");var a=e.parentNode.querySelectorAll(t);return n||e.removeAttribute("id"),r(a)},createFragment:function(e){var t=x.createDocumentFragment();if(e){for(var n=t.appendChild(x.createElement("div")),i=r(e.nodeName?arguments:!(n.innerHTML=e)||n.children),o=i.length,a=0;o>a;)t.insertBefore(i[a++],n);t.removeChild(n)}return t},manipulate:function(e,t){var r=e.nextSibling,n=e.parentNode,i=x.createDocumentFragment(),o=t.call(i.appendChild(e),i)||e;r?n.insertBefore(o,r):n.appendChild(o)},applyPseudos:function(e,t,n,i){var o=t,a={};if(e.match(":"))for(var s=e.match(P),u=s.length;--u;)s[u].replace(k,function(t,l,c){if(!W.pseudos[l])throw"pseudo not found: "+l+" "+s;var d=a[u]=Object.create(W.pseudos[l]);d.key=e,d.name=l,d.value=c,d.arguments=(c||"").split(","),d.action=d.action||A,d.source=i;var h=o;o=function(){var t=r(arguments),n={key:e,name:l,value:c,source:i,arguments:d.arguments,listener:h},o=d.action.apply(this,[n].concat(t));return null===o||o===!1?o:n.listener.apply(this,t)},n&&d.onAdd&&(n.nodeName?d.onAdd.call(n,d):n.push(d))});for(var l in a)a[l].onCompiled&&(o=a[l].onCompiled(o,a[l])||o);return o},removePseudos:function(e,t){t.forEach(function(t){t.onRemove&&t.onRemove.call(e,t)})},parseEvent:function(e,t){var n=e.split(":"),i=n.shift(),o=W.customEvents[i],a=W.merge({type:i,stack:N,condition:A,attach:[],_attach:[],pseudos:"",_pseudos:[],onAdd:N,onRemove:N},o||{});a.attach=r(a.base||a.attach),a.chain=i+(a.pseudos.length?":"+a.pseudos:"")+(n.length?":"+n.join(":"):"");var s=a.condition;a.condition=function(e){return e.touches,e.targetTouches,s.apply(this,r(arguments))};var u=W.applyPseudos(a.chain,t,a._pseudos,a);if(a.stack=function(e){e.touches,e.targetTouches;var t=e.detail||{};return t.__stack__?t.__stack__==u?(e.stopPropagation(),e.cancelBubble=!0,u.apply(this,r(arguments))):void 0:u.apply(this,r(arguments))},a.listener=function(e){var t=r(arguments),n=a.condition.apply(this,t.concat([a]));return n?e.type==i?a.stack.apply(this,t):(W.fireEvent(e.target,i,{baseEvent:e,detail:n!==!0&&(n.__stack__=u)?n:{__stack__:u}}),void 0):n},a.attach.forEach(function(e){a._attach.push(W.parseEvent(e,a.listener))}),o&&o.observe&&!o.__observing__){o.observer=function(e){var t=a.condition.apply(this,r(arguments).concat([o]));return t?(W.fireEvent(e.target,i,{baseEvent:e,detail:t!==!0?t:{}}),void 0):t};for(var l in o.observe)W.addEvent(o.observe[l]||document,l,o.observer,!0);o.__observing__=!0}return a},addEvent:function(e,t,r,n){var i="function"==typeof r?W.parseEvent(t,r):r;return i._pseudos.forEach(function(t){t.onAdd.call(e,t)}),i._attach.forEach(function(t){W.addEvent(e,t.type,t)}),i.onAdd.call(e,i,i.listener),e.addEventListener(i.type,i.stack,n||W.captureEvents.indexOf(i.type)>-1),i},addEvents:function(e,t){var r={};for(var n in t)r[n]=W.addEvent(e,n,t[n]);return r},removeEvent:function(e,t,r){r=r||t,r.onRemove.call(e,r,r.listener),W.removePseudos(e,r._pseudos),r._attach.forEach(function(t){W.removeEvent(e,t)}),e.removeEventListener(r.type,r.stack)},removeEvents:function(e,t){for(var r in t)W.removeEvent(e,t[r])},fireEvent:function(e,t,r,n){var i=x.createEvent("CustomEvent");r=r||{},n&&console.warn("fireEvent has been modified"),i.initCustomEvent(t,r.bubbles!==!1,r.cancelable!==!1,r.detail),r.baseEvent&&p(i,r.baseEvent);try{e.dispatchEvent(i)}catch(o){console.warn("This error may have been caused by a change in the fireEvent method",o)}},addObserver:function(e,t,r){e._records||(e._records={inserted:[],removed:[]},R?(e._observer=new R(function(t){i(e,t)}),e._observer.observe(e,{subtree:!0,childList:!0,attributes:!1,characterData:!1})):["Inserted","Removed"].forEach(function(t){e.addEventListener("DOMNode"+t,function(r){r._mutation=!0,e._records[t.toLowerCase()].forEach(function(e){e(r.target,r)})},!1)})),-1==e._records[t].indexOf(r)&&e._records[t].push(r)},removeObserver:function(e,t,r){var n=e._records;n&&r?n[t].splice(n[t].indexOf(r),1):n[t]=[]}},Y=!1,G=null;x.addEventListener("mousedown",function(e){Y=!0,G=e.target},!0),x.addEventListener("mouseup",function(){Y=!1,G=null},!0),x.addEventListener("dragend",function(){Y=!1,G=null},!0);var z={touches:{configurable:!0,get:function(){return this.__touches__||(this.identifier=0)||(this.__touches__=Y?[this]:[])}},targetTouches:{configurable:!0,get:function(){return this.__targetTouches__||(this.__targetTouches__=Y&&this.currentTarget&&(this.currentTarget==G||this.currentTarget.contains&&this.currentTarget.contains(G))?(this.identifier=0)||[this]:[])}},changedTouches:{configurable:!0,get:function(){return this.__changedTouches__||(this.identifier=0)||(this.__changedTouches__=[this])}}};for(V in z)UIEvent.prototype[V]=z[V],Object.defineProperty(UIEvent.prototype,V,z[V]);W.customEvents.tap={observe:{mousedown:document,touchstart:document},gesture:{tolerance:8},condition:function(e,t){var r=e.target;switch(e.type){case"touchstart":return r.__tap__&&r.__tap__.click&&w(r,t),E(r,t,e),void 0;case"mousedown":return r.__tap__||E(r,t,e),void 0;case"scroll":case"touchcancel":return w(this,t),void 0;case"touchmove":case"touchend":return this.__tap__&&!O(this,t,e)?(w(this,t),void 0):"touchend"==e.type||null;case"click":return w(this,t),!0}}},M.xtag=W,"function"==typeof define&&define.amd&&define(W),x.addEventListener("WebComponentsReady",function(){W.fireEvent(x.body,"DOMComponentsLoaded")})}(),function(e){"use strict";function t(e,r){if(e===r)return!0;if("object"==typeof e&&"object"==typeof r){if(Array.isArray(e)!==Array.isArray(r))return!1;if(Array.isArray(e)){if(e.length!==r.length)return!1;for(var n=0;n<e.length;n++)if(!t(e[n],r[n]))return!1}else{var i;for(i in e)if(void 0===r[i]&&void 0!==e[i])return!1;for(i in r)if(void 0===e[i]&&void 0!==r[i])return!1;for(i in e)if(!t(e[i],r[i]))return!1}return!0}return!1}function r(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}function n(e,t){function n(e){var t=[];
return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?t.pop():t.push(e)}),t.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}return t=r(t||""),e=r(e||""),t&&e?(t.protocol||e.protocol)+(t.protocol||t.authority?t.authority:e.authority)+n(t.protocol||t.authority||"/"===t.pathname.charAt(0)?t.pathname:t.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+t.pathname:e.pathname)+(t.protocol||t.authority||t.pathname?t.search:t.search||e.search)+t.hash:null}function i(e){return e.split("#")[0]}function o(e,t){if(void 0===t?t=e.id:"string"==typeof e.id&&(t=n(t,e.id),e.id=t),"object"==typeof e)if(Array.isArray(e))for(var r=0;r<e.length;r++)o(e[r],t);else if("string"==typeof e.$ref)e.$ref=n(t,e.$ref);else for(var i in e)"enum"!==i&&o(e[i],t)}function a(e,t,r,n,i){if(void 0===e)throw new Error("No code supplied for error: "+t);this.code=e,this.message=t,this.dataPath=r||"",this.schemaPath=n||"",this.subErrors=i||null}function s(e,t){if(t.substring(0,e.length)===e){var r=t.substring(e.length);if(t.length>0&&"/"===t.charAt(e.length-1)||"#"===r.charAt(0)||"?"===r.charAt(0))return!0}return!1}function u(e){var t=new l,r=e||"en",a={addFormat:function(){t.addFormat.apply(t,arguments)},language:function(e){return e?(h[e]||(e=e.split("-")[0]),h[e]?(r=e,e):!1):r},addLanguage:function(e,t){var r;for(r in c)t[r]&&!t[c[r]]&&(t[c[r]]=t[r]);var n=e.split("-")[0];if(h[n]){h[e]=Object.create(h[n]);for(r in t)"undefined"==typeof h[n][r]&&(h[n][r]=t[r]),h[e][r]=t[r]}else h[e]=t,h[n]=t;return this},freshApi:function(e){var t=u();return e&&t.language(e),t},validate:function(e,n,i,o){var a=new l(t,!1,h[r],i,o);"string"==typeof n&&(n={$ref:n}),a.addSchema("",n);var s=a.validateAll(e,n,null,null,"");return!s&&o&&(s=a.banUnknownProperties()),this.error=s,this.missing=a.missing,this.valid=null===s,this.valid},validateResult:function(){var e={};return this.validate.apply(e,arguments),e},validateMultiple:function(e,n,i,o){var a=new l(t,!0,h[r],i,o);"string"==typeof n&&(n={$ref:n}),a.addSchema("",n),a.validateAll(e,n,null,null,""),o&&a.banUnknownProperties();var s={};return s.errors=a.errors,s.missing=a.missing,s.valid=0===s.errors.length,s},addSchema:function(){return t.addSchema.apply(t,arguments)},getSchema:function(){return t.getSchema.apply(t,arguments)},getSchemaMap:function(){return t.getSchemaMap.apply(t,arguments)},getSchemaUris:function(){return t.getSchemaUris.apply(t,arguments)},getMissingUris:function(){return t.getMissingUris.apply(t,arguments)},dropSchemas:function(){t.dropSchemas.apply(t,arguments)},reset:function(){t.reset(),this.error=null,this.missing=[],this.valid=!0},missing:[],error:null,valid:!0,normSchema:o,resolveUrl:n,getDocumentUri:i,errorCodes:c};return a}Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=r.length;return function(i){if("object"!=typeof i&&"function"!=typeof i||null===i)throw new TypeError("Object.keys called on non-object");var o=[];for(var a in i)e.call(i,a)&&o.push(a);if(t)for(var s=0;n>s;s++)e.call(i,r[s])&&o.push(r[s]);return o}}()),Object.create||(Object.create=function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}()),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),r=t.length>>>0;if(0===r)return-1;var n=0;if(arguments.length>1&&(n=Number(arguments[1]),n!==n?n=0:0!==n&&1/0!==n&&n!==-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=r)return-1;for(var i=n>=0?n:Math.max(r-Math.abs(n),0);r>i;i++)if(i in t&&t[i]===e)return i;return-1}),Object.isFrozen||(Object.isFrozen=function(e){for(var t="tv4_test_frozen_key";e.hasOwnProperty(t);)t+=Math.random();try{return e[t]=!0,delete e[t],!1}catch(r){return!0}});var l=function(e,t,r,n,i){this.missing=[],this.missingMap={},this.formatValidators=e?Object.create(e.formatValidators):{},this.schemas=e?Object.create(e.schemas):{},this.collectMultiple=t,this.errors=[],this.handleError=t?this.collectError:this.returnError,n&&(this.checkRecursive=!0,this.scanned=[],this.scannedFrozen=[],this.scannedFrozenSchemas=[],this.key="tv4_validation_id"),i&&(this.trackUnknownProperties=!0,this.knownPropertyPaths={},this.unknownPropertyPaths={}),this.errorMessages=r};l.prototype.createError=function(e,t,r,n,i){var o=this.errorMessages[e]||d[e];if("string"!=typeof o)return new a(e,"Unknown error code "+e+": "+JSON.stringify(t),r,n,i);var s=o.replace(/\{([^{}]*)\}/g,function(e,r){var n=t[r];return"string"==typeof n||"number"==typeof n?n:e});return new a(e,s,r,n,i)},l.prototype.returnError=function(e){return e},l.prototype.collectError=function(e){return e&&this.errors.push(e),null},l.prototype.prefixErrors=function(e,t,r){for(var n=e;n<this.errors.length;n++)this.errors[n]=this.errors[n].prefixWith(t,r);return this},l.prototype.banUnknownProperties=function(){for(var e in this.unknownPropertyPaths){var t=this.createError(c.UNKNOWN_PROPERTY,{path:e},e,""),r=this.handleError(t);if(r)return r}return null},l.prototype.addFormat=function(e,t){if("object"==typeof e){for(var r in e)this.addFormat(r,e[r]);return this}this.formatValidators[e]=t},l.prototype.resolveRefs=function(e,t){if(void 0!==e.$ref){if(t=t||{},t[e.$ref])return this.createError(c.CIRCULAR_REFERENCE,{urls:Object.keys(t).join(", ")},"","");t[e.$ref]=!0,e=this.getSchema(e.$ref,t)}return e},l.prototype.getSchema=function(e,t){var r;if(void 0!==this.schemas[e])return r=this.schemas[e],this.resolveRefs(r,t);var n=e,i="";if(-1!==e.indexOf("#")&&(i=e.substring(e.indexOf("#")+1),n=e.substring(0,e.indexOf("#"))),"object"==typeof this.schemas[n]){r=this.schemas[n];var o=decodeURIComponent(i);if(""===o)return this.resolveRefs(r,t);if("/"!==o.charAt(0))return void 0;for(var a=o.split("/").slice(1),s=0;s<a.length;s++){var u=a[s].replace(/~1/g,"/").replace(/~0/g,"~");if(void 0===r[u]){r=void 0;break}r=r[u]}if(void 0!==r)return this.resolveRefs(r,t)}void 0===this.missing[n]&&(this.missing.push(n),this.missing[n]=n,this.missingMap[n]=n)},l.prototype.searchSchemas=function(e,t){if("string"==typeof e.id&&s(t,e.id)&&void 0===this.schemas[e.id]&&(this.schemas[e.id]=e),"object"==typeof e)for(var r in e)if("enum"!==r)if("object"==typeof e[r])this.searchSchemas(e[r],t);else if("$ref"===r){var n=i(e[r]);n&&void 0===this.schemas[n]&&void 0===this.missingMap[n]&&(this.missingMap[n]=n)}},l.prototype.addSchema=function(e,t){if("undefined"==typeof t){if("object"!=typeof e||"string"!=typeof e.id)return;t=e,e=t.id}(e=i(e)+"#")&&(e=i(e)),this.schemas[e]=t,delete this.missingMap[e],o(t,e),this.searchSchemas(t,e)},l.prototype.getSchemaMap=function(){var e={};for(var t in this.schemas)e[t]=this.schemas[t];return e},l.prototype.getSchemaUris=function(e){var t=[];for(var r in this.schemas)(!e||e.test(r))&&t.push(r);return t},l.prototype.getMissingUris=function(e){var t=[];for(var r in this.missingMap)(!e||e.test(r))&&t.push(r);return t},l.prototype.dropSchemas=function(){this.schemas={},this.reset()},l.prototype.reset=function(){this.missing=[],this.missingMap={},this.errors=[]},l.prototype.validateAll=function(e,t,r,n,i){var o;if(t=this.resolveRefs(t),!t)return null;if(t instanceof a)return this.errors.push(t),t;if(this.checkRecursive&&"object"==typeof e){if(o=!this.scanned.length,e[this.key]&&-1!==e[this.key].indexOf(t))return null;var s;if(Object.isFrozen(e)&&(s=this.scannedFrozen.indexOf(e),-1!==s&&-1!==this.scannedFrozenSchemas[s].indexOf(t)))return null;if(this.scanned.push(e),Object.isFrozen(e))-1===s&&(s=this.scannedFrozen.length,this.scannedFrozen.push(e),this.scannedFrozenSchemas.push([])),this.scannedFrozenSchemas[s].push(t);else{if(!e[this.key])try{Object.defineProperty(e,this.key,{value:[],configurable:!0})}catch(u){e[this.key]=[]}e[this.key].push(t)}}var l=this.errors.length,c=this.validateBasic(e,t,i)||this.validateNumeric(e,t,i)||this.validateString(e,t,i)||this.validateArray(e,t,i)||this.validateObject(e,t,i)||this.validateCombinations(e,t,i)||this.validateFormat(e,t,i)||null;if(o){for(;this.scanned.length;){var d=this.scanned.pop();delete d[this.key]}this.scannedFrozen=[],this.scannedFrozenSchemas=[]}if(c||l!==this.errors.length)for(;r&&r.length||n&&n.length;){var h=r&&r.length?""+r.pop():null,p=n&&n.length?""+n.pop():null;c&&(c=c.prefixWith(h,p)),this.prefixErrors(l,h,p)}return this.handleError(c)},l.prototype.validateFormat=function(e,t){if("string"!=typeof t.format||!this.formatValidators[t.format])return null;var r=this.formatValidators[t.format].call(null,e,t);return"string"==typeof r||"number"==typeof r?this.createError(c.FORMAT_CUSTOM,{message:r}).prefixWith(null,"format"):r&&"object"==typeof r?this.createError(c.FORMAT_CUSTOM,{message:r.message||"?"},r.dataPath||null,r.schemaPath||"/format"):null},l.prototype.validateBasic=function(e,t,r){var n;return(n=this.validateType(e,t,r))?n.prefixWith(null,"type"):(n=this.validateEnum(e,t,r))?n.prefixWith(null,"type"):null},l.prototype.validateType=function(e,t){if(void 0===t.type)return null;var r=typeof e;null===e?r="null":Array.isArray(e)&&(r="array");var n=t.type;"object"!=typeof n&&(n=[n]);for(var i=0;i<n.length;i++){var o=n[i];if(o===r||"integer"===o&&"number"===r&&0===e%1)return null}return this.createError(c.INVALID_TYPE,{type:r,expected:n.join("/")})},l.prototype.validateEnum=function(e,r){if(void 0===r["enum"])return null;for(var n=0;n<r["enum"].length;n++){var i=r["enum"][n];if(t(e,i))return null}return this.createError(c.ENUM_MISMATCH,{value:"undefined"!=typeof JSON?JSON.stringify(e):e})},l.prototype.validateNumeric=function(e,t,r){return this.validateMultipleOf(e,t,r)||this.validateMinMax(e,t,r)||null},l.prototype.validateMultipleOf=function(e,t){var r=t.multipleOf||t.divisibleBy;return void 0===r?null:"number"==typeof e&&0!==e%r?this.createError(c.NUMBER_MULTIPLE_OF,{value:e,multipleOf:r}):null},l.prototype.validateMinMax=function(e,t){if("number"!=typeof e)return null;if(void 0!==t.minimum){if(e<t.minimum)return this.createError(c.NUMBER_MINIMUM,{value:e,minimum:t.minimum}).prefixWith(null,"minimum");if(t.exclusiveMinimum&&e===t.minimum)return this.createError(c.NUMBER_MINIMUM_EXCLUSIVE,{value:e,minimum:t.minimum}).prefixWith(null,"exclusiveMinimum")}if(void 0!==t.maximum){if(e>t.maximum)return this.createError(c.NUMBER_MAXIMUM,{value:e,maximum:t.maximum}).prefixWith(null,"maximum");if(t.exclusiveMaximum&&e===t.maximum)return this.createError(c.NUMBER_MAXIMUM_EXCLUSIVE,{value:e,maximum:t.maximum}).prefixWith(null,"exclusiveMaximum")}return null},l.prototype.validateString=function(e,t,r){return this.validateStringLength(e,t,r)||this.validateStringPattern(e,t,r)||null},l.prototype.validateStringLength=function(e,t){return"string"!=typeof e?null:void 0!==t.minLength&&e.length<t.minLength?this.createError(c.STRING_LENGTH_SHORT,{length:e.length,minimum:t.minLength}).prefixWith(null,"minLength"):void 0!==t.maxLength&&e.length>t.maxLength?this.createError(c.STRING_LENGTH_LONG,{length:e.length,maximum:t.maxLength}).prefixWith(null,"maxLength"):null},l.prototype.validateStringPattern=function(e,t){if("string"!=typeof e||void 0===t.pattern)return null;var r=new RegExp(t.pattern);return r.test(e)?null:this.createError(c.STRING_PATTERN,{pattern:t.pattern}).prefixWith(null,"pattern")},l.prototype.validateArray=function(e,t,r){return Array.isArray(e)?this.validateArrayLength(e,t,r)||this.validateArrayUniqueItems(e,t,r)||this.validateArrayItems(e,t,r)||null:null},l.prototype.validateArrayLength=function(e,t){var r;return void 0!==t.minItems&&e.length<t.minItems&&(r=this.createError(c.ARRAY_LENGTH_SHORT,{length:e.length,minimum:t.minItems}).prefixWith(null,"minItems"),this.handleError(r))?r:void 0!==t.maxItems&&e.length>t.maxItems&&(r=this.createError(c.ARRAY_LENGTH_LONG,{length:e.length,maximum:t.maxItems}).prefixWith(null,"maxItems"),this.handleError(r))?r:null},l.prototype.validateArrayUniqueItems=function(e,r){if(r.uniqueItems)for(var n=0;n<e.length;n++)for(var i=n+1;i<e.length;i++)if(t(e[n],e[i])){var o=this.createError(c.ARRAY_UNIQUE,{match1:n,match2:i}).prefixWith(null,"uniqueItems");if(this.handleError(o))return o}return null},l.prototype.validateArrayItems=function(e,t,r){if(void 0===t.items)return null;var n,i;if(Array.isArray(t.items)){for(i=0;i<e.length;i++)if(i<t.items.length){if(n=this.validateAll(e[i],t.items[i],[i],["items",i],r+"/"+i))return n}else if(void 0!==t.additionalItems)if("boolean"==typeof t.additionalItems){if(!t.additionalItems&&(n=this.createError(c.ARRAY_ADDITIONAL_ITEMS,{}).prefixWith(""+i,"additionalItems"),this.handleError(n)))return n}else if(n=this.validateAll(e[i],t.additionalItems,[i],["additionalItems"],r+"/"+i))return n}else for(i=0;i<e.length;i++)if(n=this.validateAll(e[i],t.items,[i],["items"],r+"/"+i))return n;return null},l.prototype.validateObject=function(e,t,r){return"object"!=typeof e||null===e||Array.isArray(e)?null:this.validateObjectMinMaxProperties(e,t,r)||this.validateObjectRequiredProperties(e,t,r)||this.validateObjectProperties(e,t,r)||this.validateObjectDependencies(e,t,r)||null},l.prototype.validateObjectMinMaxProperties=function(e,t){var r,n=Object.keys(e);return void 0!==t.minProperties&&n.length<t.minProperties&&(r=this.createError(c.OBJECT_PROPERTIES_MINIMUM,{propertyCount:n.length,minimum:t.minProperties}).prefixWith(null,"minProperties"),this.handleError(r))?r:void 0!==t.maxProperties&&n.length>t.maxProperties&&(r=this.createError(c.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:n.length,maximum:t.maxProperties}).prefixWith(null,"maxProperties"),this.handleError(r))?r:null},l.prototype.validateObjectRequiredProperties=function(e,t){if(void 0!==t.required)for(var r=0;r<t.required.length;r++){var n=t.required[r];if(void 0===e[n]){var i=this.createError(c.OBJECT_REQUIRED,{key:n}).prefixWith(null,""+r).prefixWith(null,"required");if(this.handleError(i))return i}}return null},l.prototype.validateObjectProperties=function(e,t,r){var n;for(var i in e){var o=r+"/"+i.replace(/~/g,"~0").replace(/\//g,"~1"),a=!1;if(void 0!==t.properties&&void 0!==t.properties[i]&&(a=!0,n=this.validateAll(e[i],t.properties[i],[i],["properties",i],o)))return n;if(void 0!==t.patternProperties)for(var s in t.patternProperties){var u=new RegExp(s);if(u.test(i)&&(a=!0,n=this.validateAll(e[i],t.patternProperties[s],[i],["patternProperties",s],o)))return n}if(a)this.trackUnknownProperties&&(this.knownPropertyPaths[o]=!0,delete this.unknownPropertyPaths[o]);else if(void 0!==t.additionalProperties){if(this.trackUnknownProperties&&(this.knownPropertyPaths[o]=!0,delete this.unknownPropertyPaths[o]),"boolean"==typeof t.additionalProperties){if(!t.additionalProperties&&(n=this.createError(c.OBJECT_ADDITIONAL_PROPERTIES,{}).prefixWith(i,"additionalProperties"),this.handleError(n)))return n}else if(n=this.validateAll(e[i],t.additionalProperties,[i],["additionalProperties"],o))return n}else this.trackUnknownProperties&&!this.knownPropertyPaths[o]&&(this.unknownPropertyPaths[o]=!0)}return null},l.prototype.validateObjectDependencies=function(e,t,r){var n;if(void 0!==t.dependencies)for(var i in t.dependencies)if(void 0!==e[i]){var o=t.dependencies[i];if("string"==typeof o){if(void 0===e[o]&&(n=this.createError(c.OBJECT_DEPENDENCY_KEY,{key:i,missing:o}).prefixWith(null,i).prefixWith(null,"dependencies"),this.handleError(n)))return n}else if(Array.isArray(o))for(var a=0;a<o.length;a++){var s=o[a];if(void 0===e[s]&&(n=this.createError(c.OBJECT_DEPENDENCY_KEY,{key:i,missing:s}).prefixWith(null,""+a).prefixWith(null,i).prefixWith(null,"dependencies"),this.handleError(n)))return n}else if(n=this.validateAll(e,o,[],["dependencies",i],r))return n}return null},l.prototype.validateCombinations=function(e,t,r){return this.validateAllOf(e,t,r)||this.validateAnyOf(e,t,r)||this.validateOneOf(e,t,r)||this.validateNot(e,t,r)||null},l.prototype.validateAllOf=function(e,t,r){if(void 0===t.allOf)return null;for(var n,i=0;i<t.allOf.length;i++){var o=t.allOf[i];if(n=this.validateAll(e,o,[],["allOf",i],r))return n}return null},l.prototype.validateAnyOf=function(e,t,r){if(void 0===t.anyOf)return null;var n,i,o=[],a=this.errors.length;this.trackUnknownProperties&&(n=this.unknownPropertyPaths,i=this.knownPropertyPaths);for(var s=!0,u=0;u<t.anyOf.length;u++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var l=t.anyOf[u],d=this.errors.length,h=this.validateAll(e,l,[],["anyOf",u],r);if(null===h&&d===this.errors.length){if(this.errors=this.errors.slice(0,a),this.trackUnknownProperties){for(var p in this.knownPropertyPaths)i[p]=!0,delete n[p];for(var f in this.unknownPropertyPaths)i[f]||(n[f]=!0);s=!1;continue}return null}h&&o.push(h.prefixWith(null,""+u).prefixWith(null,"anyOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=n,this.knownPropertyPaths=i),s?(o=o.concat(this.errors.slice(a)),this.errors=this.errors.slice(0,a),this.createError(c.ANY_OF_MISSING,{},"","/anyOf",o)):void 0},l.prototype.validateOneOf=function(e,t,r){if(void 0===t.oneOf)return null;var n,i,o=null,a=[],s=this.errors.length;this.trackUnknownProperties&&(n=this.unknownPropertyPaths,i=this.knownPropertyPaths);for(var u=0;u<t.oneOf.length;u++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var l=t.oneOf[u],d=this.errors.length,h=this.validateAll(e,l,[],["oneOf",u],r);if(null===h&&d===this.errors.length){if(null!==o)return this.errors=this.errors.slice(0,s),this.createError(c.ONE_OF_MULTIPLE,{index1:o,index2:u},"","/oneOf");if(o=u,this.trackUnknownProperties){for(var p in this.knownPropertyPaths)i[p]=!0,delete n[p];for(var f in this.unknownPropertyPaths)i[f]||(n[f]=!0)}}else h&&a.push(h.prefixWith(null,""+u).prefixWith(null,"oneOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=n,this.knownPropertyPaths=i),null===o?(a=a.concat(this.errors.slice(s)),this.errors=this.errors.slice(0,s),this.createError(c.ONE_OF_MISSING,{},"","/oneOf",a)):(this.errors=this.errors.slice(0,s),null)},l.prototype.validateNot=function(e,t,r){if(void 0===t.not)return null;var n,i,o=this.errors.length;this.trackUnknownProperties&&(n=this.unknownPropertyPaths,i=this.knownPropertyPaths,this.unknownPropertyPaths={},this.knownPropertyPaths={});var a=this.validateAll(e,t.not,null,null,r),s=this.errors.slice(o);return this.errors=this.errors.slice(0,o),this.trackUnknownProperties&&(this.unknownPropertyPaths=n,this.knownPropertyPaths=i),null===a&&0===s.length?this.createError(c.NOT_PASSED,{},"","/not"):null};var c={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,CIRCULAR_REFERENCE:500,UNKNOWN_PROPERTY:1e3},d={INVALID_TYPE:"invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};a.prototype=new Error,a.prototype.prefixWith=function(e,t){if(null!==e&&(e=e.replace(/~/g,"~0").replace(/\//g,"~1"),this.dataPath="/"+e+this.dataPath),null!==t&&(t=t.replace(/~/g,"~0").replace(/\//g,"~1"),this.schemaPath="/"+t+this.schemaPath),null!==this.subErrors)for(var r=0;r<this.subErrors.length;r++)this.subErrors[r].prefixWith(e,t);return this};var h={},p=u();p.addLanguage("en-gb",d),p.tv4=p,"undefined"!=typeof module&&module.exports?module.exports=p:e.tv4=p}(this),function(){"use strict";var e={};e.version="0.0.1";var t;t="undefined"!=typeof module?module.exports=e:function(){return this||(1,eval)("this")}(),t.xblocks=e;var r={inlineStyle:Modernizr.stylescoped||Modernizr.createshadowroot};e.option=function(e,t){if("undefined"==typeof t){if("string"==typeof e)return r[e]}else if("string"==typeof e)return r[e]=t;return void 0},e.attrs2obj=function(e,t){for(var r={},n=0,i=e.attributes,o=i.length;o>n;n++){var a=i.item(n);r[a.nodeName]="true"===a.nodeValue||"false"===a.nodeValue||a.nodeName===a.nodeValue?a.nodeName===a.nodeValue||"true"===a.nodeValue?!0:!1:a.nodeValue}if(t)for(var s in t)r.hasOwnProperty(s)||(r[s]=t[s]);return r},e.elementHTML=function(t,r){"undefined"!=typeof r&&(t.innerHTML=r,Modernizr.createshadowroot||e.elementUpdate(t));var n;return Modernizr.createshadowroot||(n=t.querySelector("content")),n&&n.innerHTML||t.innerHTML},e.elementUpdate=function(t){t.observer.off();var r=t.tagName.toLowerCase(),n={attrs:e.attrs2obj(t,t.defaultAttrs||{}),content:null};if(Modernizr.createshadowroot||(n.content=e.elementHTML(t)),tv4){var i=tv4.getSchema("http://xblocks.ru/"+r),o=tv4.validateResult(n,i);if(!o.valid)throw o.error}var a=yr.run(r,n,"template"),s=xtag.createFragment(a);if(t.styleSource&&e.option("inlineStyle")){var u="@import url("+t.styleSource+");",l=document.createElement("style");l.setAttribute("type","text/css"),l.setAttribute("scoped","scoped"),l.styleSheet?l.styleSheet.cssText=u:l.appendChild(document.createTextNode(u)),s.insertBefore(l,s.firstChild)}var c;Modernizr.createshadowroot?(c=t.shadowRoot||t.createShadowRoot(),c.resetStyleInheritance=!1,c.applyAuthorStyles=!1):c=t;for(var d;d=c.firstChild;)c.removeChild(d);c.appendChild(s.cloneNode(!0)),t.observer.on()}}(),function(e,t){"use strict";!function(e){tv4&&tv4.addSchema("http://xblocks.ru/xb-button",e)}({type:"object",$schema:"http://json-schema.org/draft-04/schema#",title:"Button",description:"Button params",id:"http://xblocks.ru/xb-button",required:!0,properties:{attrs:{type:"object",id:"http://xblocks.ru/xb-button/attrs",required:!0,properties:{"class":{type:"string",description:"Class of the button",id:"http://xblocks.ru/xb-button/attrs/class",required:!1},disabled:{type:"boolean",id:"http://xblocks.ru/xb-button/attrs/disabled",required:!1},"xb-checked":{type:"boolean",id:"http://xblocks.ru/xb-button/attrs/checked",required:!1},href:{type:"string",description:"Href of the button",id:"http://xblocks.ru/xb-button/attrs/href",required:!1},id:{type:"string",description:"The unique identifier for a DOM",id:"http://xblocks.ru/xb-button/attrs/id",required:!1},multiple:{type:"boolean",id:"http://xblocks.ru/xb-button/attrs/multiple",required:!1},name:{type:"string",description:"Name of the button",id:"http://xblocks.ru/xb-button/attrs/name",required:!1},target:{type:"string",description:"Target of the button",id:"http://xblocks.ru/xb-button/attrs/target",required:!1},type:{id:"http://xblocks.ru/xb-button/attrs/type",required:!1,"enum":["button","file","submit"]},"xb-ico":{type:"string",description:"Ico of the button",id:"http://xblocks.ru/xb-button/attrs/xb-ico",required:!1},"xb-size":{id:"http://xblocks.ru/xb-button/attrs/xb-size",required:!1,"enum":["s","m","l"]},"xb-theme":{id:"http://xblocks.ru/xb-button/attrs/xb-theme",required:!1,"enum":["normal","action","dark","pseudo"]},"xb-flying":{type:"boolean",id:"http://xblocks.ru/xb-button/attrs/xb-flying",required:!1}}},content:{type:["string","null"],id:"http://xblocks.ru/xb-button/content",required:!0}}}),e.register("xb-button",{lifecycle:{created:function(){this.observer.on(),t.elementUpdate(this)},inserted:function(){},removed:function(){this.observer.remove()},attributeChanged:function(){t.elementUpdate(this)}},accessors:{defaultAttrs:{get:function(){return{"xb-theme":"normal","xb-size":"m"}}},styleSource:{get:function(){return"../src/blocks/button/styl/_button.css"}},value:{get:function(){return t.elementHTML(this)},set:function(e){return t.elementHTML(this,e)}},observer:{get:function(){var e,r=this;return Modernizr.createshadowroot||(e=r.__observer||(r.__observer=new MutationObserver(function(){t.elementUpdate(r)}))),{on:function(){e&&e.observe(r,{childList:!0,subtree:!0,characterData:!0})},off:function(){e&&e.disconnect()},remove:function(){e&&e.disconnect(),delete r.__observer}}}}},events:{click:function(e){this.hasAttribute("disabled")&&(e.preventDefault(),e.stopPropagation())}},methods:{}})}(xtag,xblocks);