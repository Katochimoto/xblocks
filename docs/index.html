<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Xblocks - HTML custom elements on the basis React and X-Tag." />
    <meta name="keywords" content="xblocks, react, x-tag, custom elements, javascript, user interface" />
    <meta name="author" content="Katochimoto" />
    <link rel="icon" href="favicon.ico" />

    <title>Xblocks</title>

    <link href="/bower_components/xblocks/build/xblocks.min.css" rel="stylesheet" />
    <link href="/bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="/styles/dashboard.css" rel="stylesheet" />
    <link href="/styles/bs-docs-sidebar.css" rel="stylesheet" />
    <link href="/styles/github.css" rel="stylesheet" />

    <style type="text/css">
.hljs {
    padding: 0;
    background: transparent;
}

.panel-example {
    border-color: #ddd;
    margin: 10px 0;
}

.panel-example > .panel-heading {
    border-color: #ddd;
    position: relative;
    padding-top: 40px;
    padding-bottom: 15px;
}

.panel-example > .panel-heading::after {
    content: "Example";
    position: absolute;
    top: -1px;
    left: -1px;
    padding: 3px 7px;
    font-size: 12px;
    font-weight: bold;
    background-color: whiteSmoke;
    border: 1px solid #DDD;
    color: #9DA0A4;
    -webkit-border-radius: 4px 0 4px 0;
    -moz-border-radius: 4px 0 4px 0;
    border-radius: 4px 0 4px 0;
}

.panel-example > .panel-body {
    padding: 0;
    margin: 0;
}

.panel-example > .panel-body > pre {
    border: none;
    margin: 0;
    border-top-left-radius: 0px;
    border-top-right-radius: 0px;
}
    </style>

    <script src="/bower_components/es5-shim/es5-shim.min.js"></script>
    <script src="/bower_components/react/react-with-addons.min.js"></script>
    <script src="/bower_components/tether/tether.min.js"></script>
    <script src="/bower_components/xblocks-core/dist/xblocks-core-full.min.js"></script>
    <script src="/bower_components/xblocks/build/xblocks.min.js"></script>

    <script src="/bower_components/jquery/dist/jquery.min.js"></script>
    <script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="/node_modules/yate/lib/runtime.js"></script>
    <script src="/bower_components/director/build/director.min.js"></script>
    <script src="/scripts/highlight.pack.js"></script>

    <script>
    yr.externals.uid = (function() {
        var uid = 0;
        return function() {
            return uid++;
        };
    }());
    </script>

    <script src="/docs/docs.js"></script>
</head>
<body>
    <div id="app"></div>
<script>
var data = {
    'version': '0.6.0',
    'navbar': {},
    'menu': {
        'items': [
            {
                'hash': 'getting-started',
                'title': 'Getting Started',
                'menu': {
                    'items': [
                        {
                            'hash': 'getting-started/quickstart',
                            'title': 'Quick Start'
                        },
                        {
                            'hash': 'getting-started/download',
                            'title': 'Download'
                        },
                        {
                            'hash': 'getting-started/templates',
                            'title': 'Templates'
                        }
                    ]
                }
            },

            {
                'hash': 'examples',
                'title': 'Examples',
                'menu': {
                    'items': [
                        {
                            'hash': 'examples/icons',
                            'title': 'Icons'
                        },
                        {
                            'hash': 'examples/link',
                            'title': 'Link'
                        },
                        {
                            'hash': 'examples/buttons',
                            'title': 'Buttons'
                        },
                        {
                            'hash': 'examples/checkbox',
                            'title': 'Checkbox'
                        },
                        {
                            'hash': 'examples/radio',
                            'title': 'Radio'
                        },
                        {
                            'hash': 'examples/input',
                            'title': 'Input'
                        },
                        {
                            'hash': 'examples/popup',
                            'title': 'Popup'
                        },
                        {
                            'hash': 'examples/menu',
                            'title': 'Menu'
                        }
                    ]
                }
            },

            {
                'hash': 'controls',
                'title': 'Controls',
                'menu': {
                    'items': [
                        {
                            'hash': 'controls/icons',
                            'title': 'Icons'
                        },
                        {
                            'hash': 'controls/buttons',
                            'title': 'Buttons'
                        }
                    ]
                }
            },

            {
                'hash': 'extensions',
                'title': 'Extensions',
                'menu': {
                    'items': [
                        {
                            'hash': 'extensions/writing-extensions',
                            'title': 'Writing an Extension'
                        }
                    ]
                }
            },

            {
                'hash': 'core',
                'title': 'Core'
            },

            {
                'hash': 'support',
                'title': 'Browser and device support'
            }
        ]
    }
};
</script>
<script>
var loadModule = (function() {
    var _loadModules = {};

    return function (module) {
        var dfd = $.Deferred();

        if (_loadModules.hasOwnProperty(module)) {
            if (_loadModules[ module ]) {
                dfd.resolve();

            } else {
                dfd.reject();
            }

        } else {
            $.getScript('/docs/' + module + '.js').then(function() {
                _loadModules[ module ] = true;
                dfd.resolve();

            }, function() {
                _loadModules[ module ] = false;
                dfd.reject();
            });
        }

        return dfd.promise();
    };
}());
</script>
<script>
$(function() {
    $(document).on('click', '.popup-open', function(event) {
        event.preventDefault();
        var popupId = $(this).data('popupId');
        document.getElementById(popupId).open();
    });

    hljs.configure({ 'tabReplace': '    ' });

    var currentModule;
    var app = document.getElementById('app');
    var router = Router({
        '/:module': {
            'on': run,

            '/:section': {
                'on': run
            }
        }
    });

    router.configure({
        'async': true,
        'notfound': function() {
            runDefault();
        },
        'after': function(next) {
            next();
        }
    });

    router.init();

    function run(module, section) {
        var next = arguments[ arguments.length - 1 ];

        if (currentModule === module) {
            setActiveMenu(module, section);
            next();
            return;
        }

        currentModule = module;

        loadModule(module).done(function() {
            app.innerHTML = yr.run(module, data);

            setActiveMenu(module, section);
            $('.highlight code').each(highlightIterate);
        })
        .fail(runDefault)
        .always(next);
    }

    function runDefault() {
        run('getting-started');
    }

    function setActiveMenu(module, section) {
        var hash = module;

        if (typeof(section) === 'string') {
            hash += '/' + section;
        }

        var scrollNode = $('.anchor[data-hash="' + hash + '"]');
        if (scrollNode.length) {
            $('html,body').animate({ 'scrollTop': scrollNode.offset().top - 70 });
        }

        $('.sidebar')
            .find('li')
            .removeClass('active')
            .end()
            .find('li[data-hash="' + module + '"]')
            .addClass('active')
            .end()
            .find('li[data-hash="' + hash + '"]')
            .addClass('active');
    }

    function highlightIterate(i, block) {
        hljs.highlightBlock(block);
    }
});
</script>
</body>
</html>
